{"version":3,"sources":["routes/UI/Editor/components/index.js","components/Panel/Panel.js","components/Panel/index.js","components/Editor/config.js","components/Editor/Editor.js","components/Editor/index.js"],"names":["Content","connect","state","html","onChange","_this","setState","_this2","this","react__WEBPACK_IMPORTED_MODULE_11___default","a","createElement","antd_lib_layout__WEBPACK_IMPORTED_MODULE_10___default","className","components_Panel__WEBPACK_IMPORTED_MODULE_15__","title","href","antd_lib_button__WEBPACK_IMPORTED_MODULE_3___default","Group","type","onClick","e","newHtml","antd_lib_message__WEBPACK_IMPORTED_MODULE_1___default","success","components_Editor__WEBPACK_IMPORTED_MODULE_14__","value","BaseComponent","confirm","modal_default","noop","_","Panel","props","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","onExpand","expand","collapse","onCollapse","onRefresh","refresh","animationName","onClose","content","onOk","nextProps","st","keys","length","_this$state","_this$props","theme","prefix","width","height","style","children","header","cover","scroll","classnames","cx","panel-fullscreen","panel-collapsed","styles","objectSpread","bodyStyles","overflow","Header","react_default","concat","Icon","popconfirm_default","onConfirm","placement","CSSAnimate","callback","key","Component","defaultProps","config","zIndex","uploadImgShowBase64","Editor","otherProps","editor","E","editorDom","customConfig","defaultConfig","onchange","create","txt","prevProps","prevState","ref","node","PureComponent"],"mappings":"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","file":"static/js/27.9eafa24f.chunk.js","sourcesContent":["import React from 'react';\nimport { connect } from 'dva';\nimport { Layout, Button, message } from 'antd';\nimport BaseComponent from 'components/BaseComponent';\nimport Editor from 'components/Editor';\nimport Panel from 'components/Panel';\nconst { Content } = Layout;\n\n@connect()\nexport default class extends BaseComponent {\n  state = {\n    html: ''\n  };\n  onChange = html => {\n    this.setState({\n      html\n    });\n  };\n\n  render() {\n    return (\n      <Layout className=\"full-layout page\">\n        <Content>\n          <Panel title=\"富文本\">\n            <p>\n              富文本使用\n              <a href=\"https://github.com/wangfupeng1988/wangEditor\">\n                wangEditor\n              </a>\n              ，具体参数可以到其网站查看。\n            </p>\n            <p>\n              <Button.Group>\n                <Button\n                  type=\"primary\"\n                  onClick={e =>\n                    this.setState({ newHtml: '<div>今天也要快乐啊！</div>' })\n                  }\n                >\n                  设置值\n                </Button>\n                <Button onClick={e => message.success(this.state.html)}>\n                  获取值\n                </Button>\n                <Button onClick={e => this.setState({ newHtml: '' })}>\n                  清空值\n                </Button>\n              </Button.Group>\n            </p>\n            <Editor onChange={this.onChange} value={this.state.newHtml} />\n            <b>HTML: </b>\n            {this.state.html}\n          </Panel>\n        </Content>\n      </Layout>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport Icon from '../Icon';\nimport cx from 'classnames';\nimport CSSAnimate from '../CSSAnimate';\nimport { Popconfirm, Modal } from 'antd';\nimport './style/index.less';\nconst confirm = Modal.confirm;\nconst noop = _ => {};\n/**\n * 面板组件\n */\nclass Panel extends Component {\n  static defaultProps = {\n    prefix: 'antui-panel'\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      collapse: props.collapse || false,\n      expand: props.expand || false,\n      refresh: 0,\n      animationName: ''\n    };\n  }\n\n  componentWillReceiveProps(nextProps) {\n    const st = {};\n    if ('collapse' in nextProps) {\n      st.collapse = true;\n    } else if ('expand' in nextProps) {\n      st.expand = true;\n    }\n    if (Object.keys(st).length) {\n      this.setState(st);\n    }\n  }\n\n  onExpand = expand => e => {\n    const { onChange } = this.props;\n\n    this.setState({\n      expand,\n      collapse: false\n    });\n\n    if (onChange) {\n      onChange({\n        expand,\n        collapse: false\n      });\n    }\n  };\n\n  onCollapse = collapse => e => {\n    const { onChange } = this.props;\n\n    this.setState({\n      collapse,\n      expand: false\n    });\n\n    if (onChange) {\n      onChange({\n        collapse,\n        expand: false\n      });\n    }\n  };\n\n  onRefresh = () => {\n    this.setState({\n      refresh: this.state.refresh + 1,\n      animationName: 'fadeIn'\n    });\n    this.props.onRefresh && this.props.onRefresh();\n  };\n\n  onClose = () => {\n    const { expand } = this.state;\n    if (expand) {\n      confirm({\n        title: '提示',\n        content: '您确认要关闭这个面板？',\n        onOk: () => {\n          this.props.onClose && this.props.onClose();\n        }\n      });\n    } else {\n      this.props.onClose && this.props.onClose();\n    }\n  };\n\n  render() {\n    const { expand, collapse, refresh, animationName } = this.state;\n    const {\n      theme,\n      prefix,\n      className,\n      title,\n      width,\n      height,\n      style,\n      children,\n      header,\n      cover,\n      scroll,\n    } = this.props;\n\n    const classnames = cx(prefix, className, {\n      theme: !!theme,\n      'panel-fullscreen': !!expand,\n      'panel-collapsed': !!collapse,\n      cover: !!cover\n    });\n\n    const styles = {\n      ...style,\n      width\n    };\n    const bodyStyles = {};\n    if (!expand) {\n      bodyStyles.height = height;\n    }\n    if (scroll) {\n      bodyStyles.overflow = 'auto';\n    }\n\n    const Header =\n      typeof header === 'undefined' ? (\n        <div className={`${prefix}-header`}>\n          <span className={`${prefix}-header-title`}>{title}</span>\n          <span className={`${prefix}-header-controls`}>\n            <a className=\"panel-control-loader\" onClick={this.onRefresh}>\n              <Icon type=\"refresh\" />\n            </a>\n            <a\n              className=\"panel-control-fullscreen\"\n              onClick={this.onExpand(expand ? false : true)}\n            >\n              <Icon type={`${expand ? 'shrink' : 'enlarge'}`} />\n            </a>\n            <a\n              className=\"panel-control-collapsed\"\n              onClick={this.onCollapse(collapse ? false : true)}\n            >\n              <Icon type={`${collapse ? 'plus' : 'minus'}`} />\n            </a>\n            <Popconfirm\n              title=\"您确认要关闭这个面板？\"\n              onConfirm={this.onClose}\n              placement=\"topRight\"\n            >\n              <a\n                className=\"panel-control-remove\"\n                onClick={expand ? this.onClose : noop}\n              >\n                <Icon type=\"close\" />\n              </a>\n            </Popconfirm>\n          </span>\n        </div>\n      ) : (\n        header\n      );\n\n    return (\n      <div className={classnames} style={styles}>\n        {Header}\n        <div className={`${prefix}-body`} style={bodyStyles}>\n          <CSSAnimate\n            className=\"panel-content\"\n            type={animationName}\n            callback={_ => this.setState({ animationName: '' })}\n            key={refresh}\n          >\n            {children}\n          </CSSAnimate>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Panel;\n","import Panel from './Panel';\n\nexport default Panel;","export default {\n  // debug: true, // 定义 debug 模式\n  zIndex: 1,\n  // 下面两个配置，使用其中一个即可显示“上传图片”的tab。但是两者不要同时使用！！！\n  uploadImgShowBase64: true,   // 使用 base64 保存图片\n  // uploadImgServer: '/upload',  // 上传图片到服务器\n  // uploadImgMaxSize: 3 * 1024 * 1024, // 将图片大小限制为 3M\n  // uploadImgMaxLength: 5, // 限制一次最多上传 5 张图片\n  /* \n  // 自定义上传参数\n  uploadImgParams: {\n    token: 'abcdef12345'  // 属性值会自动进行 encode ，此处无需 encode\n  },\n  uploadImgHeaders: {\n    'Accept': 'text/x-json'\n  },\n  */\n  // uploadFileName: 'yourFileName', // 自定义 fileName\n  // withCredentials: true, // withCredentials（跨域传递 cookie）\n  // uploadImgTimeout: 3000, // 将 timeout 时间改为 3s\n  /* //自定义提示方法\n  customAlert = (info) => {\n    alert('自定义提示：' + info)\n  },\n  */\n\n  // 自定义 onchange 触发的延迟时间，默认为 200 ms\n  // onchangeTimeout: 1000, // 单位 ms\n  // onchange = html => html,\n\n  // onfocus = _ => {}; // 点击富文本区域会触发onfocus函数执行\n  // onblur = html => (); // 点击富文本以外的区域\n\n  // pasteFilterStyle: false,  // 关闭掉粘贴样式的过滤\n  // pasteIgnoreImg: true, // 忽略粘贴内容中的图片\n  // pasteTextHandle: context => content, // 自定义处理粘贴的文本内容\n  \n  /* \n  // 自定义配置颜色（字体颜色、背景色）\n  colors: [\n    '#000000', '#eeece0', '#1c487f', '#4d80bf', '#c24f4a', \n    '#8baa4a', '#7b5ba1', '#46acc8', '#f9963b', '#ffffff'\n  ],\n  */\n\n  /*\n  // 自定义字体\n  fontNames: [\n    '宋体',\n    '微软雅黑',\n    'Arial',\n    'Tahoma',\n    'Verdana'\n  ],\n  */\n  // menus: [], // 自定义菜单配置\n  /*\n  [\n    'head',  // 标题\n    'bold',  // 粗体\n    'italic',  // 斜体\n    'underline',  // 下划线\n    'strikeThrough',  // 删除线\n    'foreColor',  // 文字颜色\n    'backColor',  // 背景颜色\n    'link',  // 插入链接\n    'list',  // 列表\n    'justify',  // 对齐方式\n    'quote',  // 引用\n    'emoticon',  // 表情\n    'image',  // 插入图片\n    'table',  // 表格\n    'video',  // 插入视频\n    'code',  // 插入代码\n    'undo',  // 撤销\n    'redo',  // 重复\n  ],\n  */\n}","import React, { PureComponent } from 'react';\nimport E from 'wangeditor';\nimport defaultConfig from './config';\nimport './style/index.less';\n\nclass Editor extends PureComponent {\n  constructor(props) {\n    super();\n    this.state = {\n      value: props.value\n    };\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (this.props.value !== nextProps.value) {\n      this.setState({\n        value: nextProps.value\n      });\n      this.onChange(nextProps.value);\n    }\n  }\n\n  componentDidMount() {\n    const { value, otherProps } = this.props;\n    this.editor = new E(this.editorDom);\n    this.editor.customConfig = {\n      ...defaultConfig,\n      onchange: this.onChange,\n      ...otherProps\n    };\n    this.editor.create();\n    this.editor.txt.html(value);\n  }\n  componentDidUpdate(prevProps, prevState) {\n    if ('value' in this.props && prevState.value !== this.state.value) {\n      this.editor.txt.html(this.state.value || '');\n    }\n  }\n\n  onChange = html => {\n    const { onChange } = this.props;\n    if (onChange) onChange(html);\n  };\n\n  render() {\n    return (\n      <div\n        className=\"antui-editor\"\n        ref={node => {\n          this.editorDom = node;\n        }}\n      />\n    );\n  }\n}\n\nexport default Editor;\n","import Editor from './Editor';\n\nexport default Editor;"],"sourceRoot":""}