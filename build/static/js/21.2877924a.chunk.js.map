{"version":3,"sources":["decorator/resizeMe.js","components/LazyLoad/LazyLoad.js","components/LazyLoad/index.js","components/WaterFall/index.js","components/WaterFall/WaterFall.js","routes/Widgets/Gallery/components/index.js"],"names":["debounce","$$","throttle","defaultConfig","refreshRate","refreshMode","resizeMe","config","arguments","length","undefined","refreshFunc","WrappedComponent","_PureComponent","_temp","props","_this","Object","_Users_evan_progressMan_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__","this","_Users_evan_progressMan_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__","_Users_evan_progressMan_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__","call","onResize","element","parentNode","_getComputedStyle","getComputedStyle","width","height","paddingLeft","paddingRight","paddingTop","paddingBottom","size","parseInt","setState","onResizeStrategy","state","position","_Users_evan_progressMan_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_6__","_Users_evan_progressMan_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_3__","key","value","resizeSensor","ResizeSensor","detach","_this2","_this$state","_this$props","className","otherProps","_Users_evan_progressMan_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__","react__WEBPACK_IMPORTED_MODULE_7___default","a","createElement","ref","node","style","assign","_Users_evan_progressMan_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","PureComponent","LazyLoad","componentDidUpdate","lazySizes","hC","aC","nextProps","propsChanged","_i","_arr","propName","handleSrcSet","rC","dataSrcSet","isArray","join","src","e","target","classList","add","prefixCls","dataSizes","dataSrc","iframe","title","alt","objectWithoutProperties","classNames","cx","lazyProps","objectSpread","react_default","frameBorder","onError","Component","defaultProps","WaterFall","onLayoutComplete","items","onLayout","msnry","renderItem","dataSource","render","columnWidth","gutter","itemStyle","renderFunc","item","marginBottom","map","index","_this$props2","horizontalOrder","percentPosition","fitWidth","getInstance","Masonry","itemSelector","on","prevProps","prevState","isEqual","layout","off","destroy","_this$props3","classnames","Meta","Content","Gallery","visible","onPreview","onClose","self","document","addEventListener","_ref","water","layout_default","components_WaterFall","card_default","hoverable","cover","onClick","description","Mask","closable","margin","left","right","top","bottom","maxHeight"],"mappings":"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","file":"static/js/21.2877924a.chunk.js","sourcesContent":["import React, { PureComponent } from 'react';\nimport ResizeSensor from 'css-element-queries/src/ResizeSensor';\nimport $$ from 'cmn-utils';\nconst { debounce, throttle } = $$;\n\n/**\n * 在一个类上增加这个装饰器，可以监听组件的大小变化，\n * 被包装的类在porps中将注入组件的width和height，并且\n * 在上级函组件中可以使用onResize函数\n * @param {*} config\n */\nconst defaultConfig = {\n  refreshRate: 16, // 调用频率\n  refreshMode: 'throttle' // 使用函数，只能是节流或防抖函数[throttle | debounce]\n};\n\nconst resizeMe = (config = defaultConfig) => {\n  const refreshFunc = config.refreshMode === 'throttle' ? throttle : debounce;\n\n  return WrappedComponent => {\n    return class extends PureComponent {\n      constructor(props) {\n        super(props);\n        this.onResizeStrategy = refreshFunc(this.onResize, config.refreshRate);\n        this.state = {\n          width: undefined,\n          height: undefined,\n          position: undefined\n        };\n      }\n\n      componentDidMount() {\n        const element = this.element.parentNode;\n        this.resizeSensor = new ResizeSensor(element, this.onResizeStrategy);\n        this.onResizeStrategy();\n      }\n\n      componentWillUnmount() {\n        const element = this.element.parentNode;\n        this.resizeSensor.detach(element, this.onResizeStrategy);\n      }\n\n      onResize = () => {\n        if (!this.element) return;\n\n        const element = this.element.parentNode;\n        const { onResize } = this.props;\n        const {\n          width,\n          height,\n          paddingLeft,\n          paddingRight,\n          paddingTop,\n          paddingBottom\n        } = getComputedStyle(element);\n\n        const size = {\n          width:\n            parseInt(width, 10) -\n            parseInt(paddingLeft, 10) -\n            parseInt(paddingRight, 10),\n          height:\n            parseInt(height, 10) -\n            parseInt(paddingTop, 10) -\n            parseInt(paddingBottom, 10)\n        };\n        this.setState(size);\n\n        onResize && onResize(size);\n      };\n\n      render() {\n        const { width, height } = this.state;\n        const { className, ...otherProps } = this.props;\n        const styles = {\n          position: 'relative',\n          width: '100%',\n          height: '100%'\n        };\n        return (\n          <div\n            ref={node => (this.element = node)}\n            style={styles}\n            className={className}\n          >\n            {width && height ? (\n              <WrappedComponent {...otherProps} size={{ ...this.state }} />\n            ) : null}\n          </div>\n        );\n      }\n    };\n  };\n};\n\nexport default resizeMe;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport lazySizes from 'lazysizes';\nimport cx from 'classnames';\nimport $$ from 'cmn-utils';\nimport './style/index.less';\n\nclass LazyLoad extends Component {\n  static propTypes = {\n    src: PropTypes.string,\n    dataSizes: PropTypes.string,\n    dataSrc: PropTypes.string,\n    dataSrcSet: PropTypes.oneOfType([PropTypes.string, PropTypes.array]),\n    className: PropTypes.string,\n    iframe: PropTypes.bool\n  };\n\n  static defaultProps = {\n    src:\n      'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7',\n    dataSizes: 'auto',\n    iframe: false,\n    prefixCls: 'antui-lazyload'\n  };\n\n  componentWillUpdate(nextProps) {\n    let propsChanged = false;\n    for (let propName of [\n      'src',\n      'dataSizes',\n      'dataSrc',\n      'dataSrcSet',\n      'className',\n      'iframe'\n    ]) {\n      let prop =\n        propName === 'dataSrcSet'\n          ? this.handleSrcSet(this.props[propName])\n          : this.props[propName];\n      let nextProp =\n        propName === 'dataSrcSet'\n          ? this.handleSrcSet(nextProps[propName])\n          : nextProps[propName];\n      if (prop !== nextProp) {\n        propsChanged = true;\n        break;\n      }\n    }\n    if (propsChanged && lazySizes) {\n      if (lazySizes.hC(this.node, 'lazyloaded')) {\n        lazySizes.rC(this.node, 'lazyloaded');\n      }\n    }\n  }\n\n  handleSrcSet(dataSrcSet) {\n    if ($$.isArray(dataSrcSet)) {\n      return dataSrcSet.join(',');\n    } else if (typeof dataSrcSet === 'string') {\n      return dataSrcSet;\n    } else {\n      return null;\n    }\n  }\n\n  componentDidUpdate = () => {\n    if (!lazySizes) {\n      return;\n    }\n    if (\n      !lazySizes.hC(this.node, 'lazyloaded') &&\n      !lazySizes.hC(this.node, 'lazyload')\n    ) {\n      lazySizes.aC(this.node, 'lazyload');\n    }\n  };\n\n  componentWillUnmount() {\n    this.node.src = '';\n  }\n\n  onError(e) {\n    e.target.classList.add('lazyerror');\n    e.target.src =\n      'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7';\n  }\n\n  render() {\n    const {\n      prefixCls,\n      src,\n      dataSizes,\n      dataSrc,\n      dataSrcSet,\n      className,\n      iframe,\n      title,\n      alt,\n      ...otherProps\n    } = this.props;\n\n    const classNames = cx(prefixCls, 'lazyload', className);\n\n    const lazyProps = { ...otherProps, src };\n    if (dataSrc) lazyProps['data-src'] = dataSrc;\n    if (dataSizes) lazyProps['data-sizes'] = dataSizes;\n    if (dataSrcSet) {\n      lazyProps['data-srcset'] = this.handleSrcSet(dataSrcSet);\n    }\n\n    if (iframe) {\n      return (\n        <iframe\n          ref={node => (this.node = node)}\n          className={classNames}\n          title={title}\n          frameBorder=\"0\"\n          {...lazyProps}\n        />\n      );\n    }\n    return (\n      <img\n        ref={node => (this.node = node)}\n        className={classNames}\n        alt={alt}\n        onError={this.onError}\n        {...lazyProps}\n      />\n    );\n  }\n}\n\nexport default LazyLoad;\n","import LazyLoad from './LazyLoad';\n\nexport default LazyLoad;","import WaterFall from './WaterFall';\n\nexport default WaterFall;","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport Masonry from 'masonry-layout';\nimport cx from 'classnames';\nimport resizeMe from '@/decorator/resizeMe';\nimport isEqual from 'react-fast-compare';\nimport './style/index.less';\n\n/**\n * 瀑布流组件\n */\n@resizeMe({ refreshRate: 50 })\nclass WaterFall extends PureComponent {\n  static propTypes = {\n    dataSource: PropTypes.array,\n    columnWidth: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    gutter: PropTypes.number,\n    horizontalOrder: PropTypes.bool,\n    percentPosition: PropTypes.bool,\n    fitWidth: PropTypes.bool\n  };\n  static defaultProps = {\n    prefixCls: 'antui-waterfall'\n  };\n\n  componentDidMount() {\n    const {\n      columnWidth,\n      gutter,\n      horizontalOrder,\n      percentPosition,\n      fitWidth,\n      getInstance\n    } = this.props;\n\n    this.msnry = new Masonry(this.node, {\n      itemSelector: '.antui-waterfall-item',\n      columnWidth:\n        typeof columnWidth === 'string' ? '.antui-waterfall-item' : columnWidth,\n      gutter,\n      horizontalOrder,\n      percentPosition,\n      fitWidth\n    });\n\n    this.msnry.on('layoutComplete', this.onLayoutComplete);\n\n    if (getInstance) getInstance(this.msnry);\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (!isEqual(prevProps.size, this.props.size)) {\n      this.msnry.layout();\n    }\n  }\n\n  componentWillUnmount() {\n    this.msnry.off('layoutComplete', this.onLayoutComplete);\n    this.msnry.destroy();\n  }\n\n  onLayoutComplete = items => {\n    const { onLayout } = this.props;\n    onLayout && onLayout(items, this.msnry);\n  }\n\n  renderItem = dataSource => {\n    const { render, columnWidth, gutter, itemStyle } = this.props;\n    const renderFunc = render ? render : item => item;\n\n    const style = {\n      width: columnWidth\n    };\n    if (gutter) {\n      style.marginBottom = gutter;\n    }\n\n    return dataSource.map((item, index) => {\n      return (\n        <div\n          key={index}\n          className=\"antui-waterfall-item\"\n          style={{ ...style, ...itemStyle }}\n        >\n          {renderFunc(item, index)}\n        </div>\n      );\n    });\n  };\n\n  render() {\n    const { prefixCls, className, dataSource, style } = this.props;\n    const classnames = cx(prefixCls, className);\n    return (\n      <div\n        ref={node => (this.node = node)}\n        className={classnames}\n        style={style}\n      >\n        {this.renderItem(dataSource)}\n      </div>\n    );\n  }\n}\n\nexport default WaterFall;\n","import React, { Component } from 'react';\nimport WaterFall from 'components/WaterFall';\nimport LazyLoad from 'components/LazyLoad';\nimport Mask from 'components/Mask';\nimport { Layout, Card } from 'antd';\nimport './index.less';\nconst { Meta } = Card;\nconst { Content } = Layout;\n\nclass Gallery extends Component {\n  state = {\n    dataSrc: '',\n    visible: false,\n    dataSource: [\n      'https://images.pexels.com/photos/39493/animals-cat-girl-happiness-39493.jpeg?auto=compress&cs=tinysrgb',\n      'https://images.pexels.com/photos/271955/pexels-photo-271955.jpeg?auto=compress&cs=tinysrgb',\n      'https://images.pexels.com/photos/22346/pexels-photo.jpg?auto=compress&cs=tinysrgb',\n      'https://images.pexels.com/photos/115011/cat-face-close-view-115011.jpeg?auto=compress&cs=tinysrgb',\n      'https://images.pexels.com/photos/46024/pexels-photo-46024.jpeg?auto=compress&cs=tinysrgb',\n      'https://images.pexels.com/photos/56857/animal-cat-kitten-funny-56857.jpeg?auto=compress&cs=tinysrgb',\n      'https://images.pexels.com/photos/156934/pexels-photo-156934.jpeg?auto=compress&cs=tinysrgb',\n      'https://images.pexels.com/photos/982865/pexels-photo-982865.jpeg?auto=compress&cs=tinysrgb',\n      'https://images.pexels.com/photos/69932/tabby-cat-close-up-portrait-69932.jpeg?auto=compress&cs=tinysrgb',\n      'https://images.pexels.com/photos/691583/pexels-photo-691583.jpeg?auto=compress&cs=tinysrgb',\n      'https://images.pexels.com/photos/80363/cat-balcony-surprised-look-80363.jpeg?auto=compress&cs=tinysrgb',\n      'https://images.pexels.com/photos/66292/cat-eyes-view-face-66292.jpeg?auto=compress&cs=tinysrgb',\n      'https://images.pexels.com/photos/1038914/pexels-photo-1038914.jpeg?auto=compress&cs=tinysrgb',\n      'https://images.pexels.com/photos/57416/cat-sweet-kitty-animals-57416.jpeg?auto=compress&cs=tinysrgb',\n      'https://images.pexels.com/photos/248280/pexels-photo-248280.jpeg?auto=compress&cs=tinysrgb',\n      'https://images.pexels.com/photos/1049758/pexels-photo-1049758.jpeg?auto=compress&cs=tinysrgb',\n      'https://images.pexels.com/photos/730896/pexels-photo-730896.jpeg?auto=compress&cs=tinysrgb',\n      'https://images.pexels.com/photos/257532/pexels-photo-257532.jpeg?auto=compress&cs=tinysrgb',\n      'https://images.pexels.com/photos/62640/pexels-photo-62640.jpeg?auto=compress&cs=tinysrgb',\n      'https://images.pexels.com/photos/38867/pexels-photo-38867.jpeg?auto=compress&cs=tinysrgb',\n      'https://images.pexels.com/photos/416160/pexels-photo-416160.jpeg?auto=compress&cs=tinysrgb',\n      'https://images.pexels.com/photos/774731/pexels-photo-774731.jpeg?auto=compress&cs=tinysrgb',\n      'https://images.pexels.com/photos/693651/pexels-photo-693651.jpeg?auto=compress&cs=tinysrgb',\n      'https://images.pexels.com/photos/39255/cat-favorite-relaxation-rest-39255.jpeg?auto=compress&cs=tinysrgb',\n      'https://images.pexels.com/photos/674577/pexels-photo-674577.jpeg?auto=compress&cs=tinysrgb',\n      'https://images.pexels.com/photos/70769/pexels-photo-70769.jpeg?auto=compress&cs=tinysrgb',\n      'https://images.pexels.com/photos/434033/pexels-photo-434033.jpeg?auto=compress&cs=tinysrgb',\n      'https://images.pexels.com/photos/735423/pexels-photo-735423.jpeg?auto=compress&cs=tinysrgb',\n      'https://images.pexels.com/photos/617278/pexels-photo-617278.jpeg?auto=compress&cs=tinysrgb',\n      'https://images.pexels.com/photos/326875/pexels-photo-326875.jpeg?auto=compress&cs=tinysrgb',\n      'https://images.pexels.com/photos/209037/pexels-photo-209037.jpeg?auto=compress&cs=tinysrgb'\n    ]\n  };\n\n  componentDidMount() {\n    const self = this;\n    document.addEventListener('lazybeforeunveil', ({ target }) => {\n      self.water.layout();\n    });\n  }\n\n  onPreview = item => {\n    this.setState({\n      dataSrc: item,\n      visible: true\n    });\n  };\n\n  onClose = () => {\n    this.setState({\n      visible: false\n    });\n  };\n\n  render() {\n    const { dataSource } = this.state;\n    return (\n      <Layout className=\"full-layout gallery-page\">\n        <Content>\n          <WaterFall\n            ref=\"waterFall\"\n            className=\"gallery-water-fall\"\n            dataSource={dataSource}\n            columnWidth={240}\n            fitWidth\n            gutter={16}\n            getInstance={water => (this.water = water)}\n            render={item => (\n              <Card\n                hoverable\n                cover={\n                  <LazyLoad\n                    dataSrc={item}\n                    onClick={e => this.onPreview(item)}\n                  />\n                }\n              >\n                <Meta\n                  title=\"Europe Street beat\"\n                  description=\"www.pexels.com/\"\n                />\n              </Card>\n            )}\n          />\n        </Content>\n        <Mask visible={this.state.visible} onClose={this.onClose} closable>\n          <img\n            src={this.state.dataSrc}\n            alt=\"\"\n            style={{\n              position: 'absolute',\n              margin: 'auto',\n              left: 0,\n              right: 0,\n              top: 0,\n              bottom: 0,\n              maxHeight: '80%',\n            }}\n          />\n        </Mask>\n      </Layout>\n    );\n  }\n}\n\nexport default Gallery;\n"],"sourceRoot":""}