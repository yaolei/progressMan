{"ast":null,"code":"import \"antd/lib/locale-provider/style\";\nimport _LocaleProvider from \"antd/lib/locale-provider\";\nvar _jsxFileName = \"/Users/evan/progressMan/src/index.js\";\nimport React from 'react';\nimport dva from 'dva';\nimport dynamic from 'dva/dynamic';\nimport createLoading from 'dva-loading';\nimport { Router } from 'dva/router';\nimport createHistory from 'history/createHashHistory';\nimport request from 'cmn-utils/lib/request';\nimport createRoutes from '@/routes';\nimport 'assets/styles/index.less';\nimport config from './config';\nimport zh_CN from 'antd/lib/locale-provider/zh_CN';\nimport 'moment/locale/zh-cn';\nimport { homepage } from '../package.json';\nimport * as serviceWorker from './serviceWorker'; // -> 初始化\n\nvar app = dva({\n  history: createHistory({\n    basename: homepage\n  })\n}); // -> 插件\n\napp.use(createLoading());\napp.use({\n  onError: config.exception.global\n}); // -> 请求\n\nrequest.config(config.request); // 使用mock数据\n\nrequire('./__mocks__'); // -> Developer mock data\n// if (process.env.NODE_ENV === 'development') {\n//   require('./__mocks__');\n// }\n// -> loading\n\n\ndynamic.setDefaultLoadingComponent(function () {\n  return config.router.loading;\n}); // -> 注册全局模型\n\napp.model(require('./models/global').default); // -> 初始化路由\n\napp.router(function (_ref) {\n  var history = _ref.history,\n      app = _ref.app;\n  return React.createElement(_LocaleProvider, {\n    locale: zh_CN,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, React.createElement(Router, {\n    history: history,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, createRoutes(app)));\n}); // -> Start\n\napp.start('#root'); // export global\n\nexport default {\n  app: app,\n  store: app._store,\n  dispatch: app._store.dispatch\n}; // 如果想可以离线使用，请使用register()代替unregister()。可能会带来一些问题，如缓存等\n// 相关资料，可以从 https://bit.ly/CRA-PWA 了解\n\nserviceWorker.unregister();","map":{"version":3,"sources":["/Users/evan/progressMan/src/index.js"],"names":["React","dva","dynamic","createLoading","Router","createHistory","request","createRoutes","config","zh_CN","homepage","serviceWorker","app","history","basename","use","onError","exception","global","require","setDefaultLoadingComponent","router","loading","model","default","start","store","_store","dispatch","unregister"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,GAAP,MAAgB,KAAhB;AACA,OAAOC,OAAP,MAAoB,aAApB;AACA,OAAOC,aAAP,MAA0B,aAA1B;AACA,SAASC,MAAT,QAAuB,YAAvB;AACA,OAAOC,aAAP,MAA0B,2BAA1B;AACA,OAAOC,OAAP,MAAoB,uBAApB;AACA,OAAOC,YAAP,MAAyB,UAAzB;AACA,OAAO,0BAAP;AACA,OAAOC,MAAP,MAAmB,UAAnB;AAEA,OAAOC,KAAP,MAAkB,gCAAlB;AACA,OAAO,qBAAP;AACA,SAASC,QAAT,QAAyB,iBAAzB;AACA,OAAO,KAAKC,aAAZ,MAA+B,iBAA/B,C,CAEA;;AACA,IAAMC,GAAG,GAAGX,GAAG,CAAC;AACdY,EAAAA,OAAO,EAAER,aAAa,CAAC;AACrBS,IAAAA,QAAQ,EAAEJ;AADW,GAAD;AADR,CAAD,CAAf,C,CAMA;;AACAE,GAAG,CAACG,GAAJ,CAAQZ,aAAa,EAArB;AACAS,GAAG,CAACG,GAAJ,CAAQ;AAAEC,EAAAA,OAAO,EAAER,MAAM,CAACS,SAAP,CAAiBC;AAA5B,CAAR,E,CAEA;;AACAZ,OAAO,CAACE,MAAR,CAAeA,MAAM,CAACF,OAAtB,E,CAEA;;AACAa,OAAO,CAAC,aAAD,CAAP,C,CACA;AACA;AACA;AACA;AAEA;;;AACAjB,OAAO,CAACkB,0BAAR,CAAmC;AAAA,SAAMZ,MAAM,CAACa,MAAP,CAAcC,OAApB;AAAA,CAAnC,E,CAEA;;AACAV,GAAG,CAACW,KAAJ,CAAUJ,OAAO,CAAC,iBAAD,CAAP,CAA2BK,OAArC,E,CAEA;;AACAZ,GAAG,CAACS,MAAJ,CAAW;AAAA,MAAGR,OAAH,QAAGA,OAAH;AAAA,MAAYD,GAAZ,QAAYA,GAAZ;AAAA,SACT;AAAgB,IAAA,MAAM,EAAEH,KAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,MAAD;AAAQ,IAAA,OAAO,EAAEI,OAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA2BN,YAAY,CAACK,GAAD,CAAvC,CADF,CADS;AAAA,CAAX,E,CAMA;;AACAA,GAAG,CAACa,KAAJ,CAAU,OAAV,E,CAEA;;AACA,eAAe;AACbb,EAAAA,GAAG,EAAHA,GADa;AAEbc,EAAAA,KAAK,EAAEd,GAAG,CAACe,MAFE;AAGbC,EAAAA,QAAQ,EAAEhB,GAAG,CAACe,MAAJ,CAAWC;AAHR,CAAf,C,CAMA;AACA;;AACAjB,aAAa,CAACkB,UAAd","sourcesContent":["import React from 'react';\nimport dva from 'dva';\nimport dynamic from 'dva/dynamic';\nimport createLoading from 'dva-loading';\nimport { Router } from 'dva/router';\nimport createHistory from 'history/createHashHistory';\nimport request from 'cmn-utils/lib/request';\nimport createRoutes from '@/routes';\nimport 'assets/styles/index.less';\nimport config from './config';\nimport { LocaleProvider } from 'antd';\nimport zh_CN from 'antd/lib/locale-provider/zh_CN';\nimport 'moment/locale/zh-cn';\nimport { homepage } from '../package.json';\nimport * as serviceWorker from './serviceWorker';\n\n// -> 初始化\nconst app = dva({\n  history: createHistory({\n    basename: homepage\n  })\n});\n\n// -> 插件\napp.use(createLoading());\napp.use({ onError: config.exception.global });\n\n// -> 请求\nrequest.config(config.request);\n\n// 使用mock数据\nrequire('./__mocks__');\n// -> Developer mock data\n// if (process.env.NODE_ENV === 'development') {\n//   require('./__mocks__');\n// }\n\n// -> loading\ndynamic.setDefaultLoadingComponent(() => config.router.loading);\n\n// -> 注册全局模型\napp.model(require('./models/global').default);\n\n// -> 初始化路由\napp.router(({ history, app }) => (\n  <LocaleProvider locale={zh_CN}>\n    <Router history={history}>{createRoutes(app)}</Router>\n  </LocaleProvider>\n));\n\n// -> Start\napp.start('#root');\n\n// export global\nexport default {\n  app,\n  store: app._store,\n  dispatch: app._store.dispatch\n};\n\n// 如果想可以离线使用，请使用register()代替unregister()。可能会带来一些问题，如缓存等\n// 相关资料，可以从 https://bit.ly/CRA-PWA 了解\nserviceWorker.unregister();\n"]},"metadata":{},"sourceType":"module"}