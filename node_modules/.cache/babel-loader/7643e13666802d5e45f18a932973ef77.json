{"ast":null,"code":"import _classCallCheck from \"/Users/evan/progressMan/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/evan/progressMan/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/evan/progressMan/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/evan/progressMan/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/evan/progressMan/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/evan/progressMan/src/components/Notification/normal.js\";\nimport React, { PureComponent } from 'react';\nimport ReactDOM from 'react-dom';\nimport $$ from 'cmn-utils';\nimport Notification from './Notification';\nimport './normal.less';\nvar SHOW_NOTICE = 'SHOW_NOTICE';\nvar HIDE_NOTICE = 'HIDE_NOTICE';\nexport function notice(config) {\n  var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'default';\n  $$.trigger(SHOW_NOTICE, {\n    type: type,\n    config: config\n  });\n  return hide;\n}\nexport function hide() {\n  $$.trigger(HIDE_NOTICE);\n}\n/**\n * 通知条示例\n * 使用cmn-utils提供的自定义的Event可以很方便\n * 的在全局范围内，打开关闭通知条\n */\n\nvar Normal =\n/*#__PURE__*/\nfunction (_PureComponent) {\n  _inherits(Normal, _PureComponent);\n\n  function Normal() {\n    var _this;\n\n    _classCallCheck(this, Normal);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Normal).call(this));\n\n    _this.showNotice = function (_ref) {\n      var config = _ref.config,\n          type = _ref.type;\n\n      _this.setState({\n        active: true,\n        message: config.message,\n        title: config.title || '提示：',\n        type: type\n      });\n\n      if (_this.timer) {\n        clearTimeout(_this.timer);\n        _this.timer = null;\n      }\n\n      _this.timer = setTimeout(_this.hideNotice, 3000);\n    };\n\n    _this.hideNotice = function () {\n      _this.setState({\n        active: false\n      });\n    };\n\n    $$.on(SHOW_NOTICE, _this.showNotice);\n    $$.on(HIDE_NOTICE, _this.hideNotice);\n    _this.state = {\n      active: false,\n      type: 'default',\n      title: '',\n      message: ''\n    };\n    return _this;\n  }\n\n  _createClass(Normal, [{\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      $$.off(SHOW_NOTICE, this.showNotice); // 清理监听\n\n      $$.off(HIDE_NOTICE, this.hideNotice);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          message = _this$state.message,\n          title = _this$state.title,\n          active = _this$state.active,\n          type = _this$state.type;\n      return React.createElement(\"div\", {\n        className: \"la-notification\".concat(active ? ' active' : ''),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"content \".concat(type),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, title, \" \", message), React.createElement(\"span\", {\n        className: \"close\",\n        onClick: this.hideNotice,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return Normal;\n}(PureComponent);\n\nvar _default =\n/*#__PURE__*/\nfunction (_Notification) {\n  _inherits(_default, _Notification);\n\n  function _default() {\n    _classCallCheck(this, _default);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(_default).apply(this, arguments));\n  }\n\n  _createClass(_default, null, [{\n    key: \"success\",\n    value: function success(config) {\n      if ($$.isObject(config)) {\n        notice(config, 'success');\n      } else {\n        notice({\n          title: '成功：',\n          message: config\n        }, 'success');\n      }\n    }\n  }, {\n    key: \"error\",\n    value: function error(config) {\n      if ($$.isObject(config)) {\n        notice(config, 'error');\n      } else {\n        notice({\n          title: '出错了：',\n          message: config\n        }, 'error');\n      }\n    }\n  }, {\n    key: \"info\",\n    value: function info(config) {\n      if ($$.isObject(config)) {\n        notice(config);\n      } else {\n        notice({\n          message: config\n        });\n      }\n    }\n  }, {\n    key: \"warning\",\n    value: function warning(config) {\n      if ($$.isObject(config)) {\n        notice(config, 'warn');\n      } else {\n        notice({\n          title: '注意：',\n          message: config\n        }, 'warn');\n      }\n    }\n  }, {\n    key: \"warn\",\n    value: function warn(config) {\n      if ($$.isObject(config)) {\n        notice(config, 'warn');\n      } else {\n        notice({\n          title: '注意：',\n          message: config\n        }, 'warn');\n      }\n    }\n  }, {\n    key: \"close\",\n    value: function close(key) {\n      /* 关闭 */\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      /* 销毁 */\n    }\n  }]);\n\n  return _default;\n}(Notification);\n\nexport { _default as default };\nvar container = document.createElement('div');\ndocument.body.appendChild(container);\nReactDOM.render(React.createElement(Normal, {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 153\n  },\n  __self: this\n}), container);","map":{"version":3,"sources":["/Users/evan/progressMan/src/components/Notification/normal.js"],"names":["React","PureComponent","ReactDOM","$$","Notification","SHOW_NOTICE","HIDE_NOTICE","notice","config","type","trigger","hide","Normal","showNotice","setState","active","message","title","timer","clearTimeout","setTimeout","hideNotice","on","state","off","isObject","key","container","document","createElement","body","appendChild","render"],"mappings":"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","sourcesContent":["import React, { PureComponent } from 'react';\nimport ReactDOM from 'react-dom';\nimport $$ from 'cmn-utils';\nimport Notification from './Notification';\nimport './normal.less';\nconst SHOW_NOTICE = 'SHOW_NOTICE';\nconst HIDE_NOTICE = 'HIDE_NOTICE';\n\nexport function notice(config, type = 'default') {\n  $$.trigger(SHOW_NOTICE, { type, config });\n  return hide;\n}\n\nexport function hide() {\n  $$.trigger(HIDE_NOTICE);\n}\n\n/**\n * 通知条示例\n * 使用cmn-utils提供的自定义的Event可以很方便\n * 的在全局范围内，打开关闭通知条\n */\nclass Normal extends PureComponent {\n  constructor() {\n    super();\n    $$.on(SHOW_NOTICE, this.showNotice);\n    $$.on(HIDE_NOTICE, this.hideNotice);\n\n    this.state = {\n      active: false,\n      type: 'default',\n      title: '',\n      message: ''\n    };\n  }\n\n  componentWillUnmount() {\n    $$.off(SHOW_NOTICE, this.showNotice); // 清理监听\n    $$.off(HIDE_NOTICE, this.hideNotice);\n  }\n\n  showNotice = ({ config, type }) => {\n    this.setState({\n      active: true,\n      message: config.message,\n      title: config.title || '提示：',\n      type\n    });\n    if (this.timer) {\n      clearTimeout(this.timer);\n      this.timer = null;\n    }\n    this.timer = setTimeout(this.hideNotice, 3000);\n  };\n\n  hideNotice = () => {\n    this.setState({\n      active: false\n    });\n  };\n\n  render() {\n    const { message, title, active, type } = this.state;\n    return (\n      <div className={`la-notification${active ? ' active' : ''}`}>\n        <div className={`content ${type}`}>\n          {title} {message}\n        </div>\n        <span className=\"close\" onClick={this.hideNotice} />\n      </div>\n    );\n  }\n}\n\nexport default class extends Notification {\n  static success(config) {\n    if ($$.isObject(config)) {\n      notice(config, 'success');\n    } else {\n      notice(\n        {\n          title: '成功：',\n          message: config\n        },\n        'success'\n      );\n    }\n  }\n\n  static error(config) {\n    if ($$.isObject(config)) {\n      notice(config, 'error');\n    } else {\n      notice(\n        {\n          title: '出错了：',\n          message: config\n        },\n        'error'\n      );\n    }\n  }\n\n  static info(config) {\n    if ($$.isObject(config)) {\n      notice(config);\n    } else {\n      notice({\n        message: config\n      });\n    }\n  }\n\n  static warning(config) {\n    if ($$.isObject(config)) {\n      notice(config, 'warn');\n    } else {\n      notice(\n        {\n          title: '注意：',\n          message: config\n        },\n        'warn'\n      );\n    }\n  }\n\n  static warn(config) {\n    if ($$.isObject(config)) {\n      notice(config, 'warn');\n    } else {\n      notice(\n        {\n          title: '注意：',\n          message: config\n        },\n        'warn'\n      );\n    }\n  }\n\n  static close(key) {\n    /* 关闭 */\n  }\n\n  static destroy() {\n    /* 销毁 */\n  }\n}\n\nconst container = document.createElement('div');\ndocument.body.appendChild(container);\nReactDOM.render(<Normal />, container);\n"]},"metadata":{},"sourceType":"module"}