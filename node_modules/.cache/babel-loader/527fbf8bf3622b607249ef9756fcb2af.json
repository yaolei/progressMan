{"ast":null,"code":"'use strict';\n\nexports.__esModule = true;\nexports.runSaga = runSaga;\n\nvar _utils =\n/*#__PURE__*/\nrequire('./utils');\n\nvar _proc =\n/*#__PURE__*/\nrequire('./proc');\n\nvar _proc2 =\n/*#__PURE__*/\n_interopRequireDefault(_proc);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nvar RUN_SAGA_SIGNATURE = 'runSaga(storeInterface, saga, ...args)';\nvar NON_GENERATOR_ERR = RUN_SAGA_SIGNATURE + ': saga argument must be a Generator function!';\n\nfunction runSaga(storeInterface, saga) {\n  for (var _len = arguments.length, args = Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n    args[_key - 2] = arguments[_key];\n  }\n\n  var iterator = void 0;\n\n  if (_utils.is.iterator(storeInterface)) {\n    if (process.env.NODE_ENV === 'development') {\n      (0, _utils.log)('warn', 'runSaga(iterator, storeInterface) has been deprecated in favor of ' + RUN_SAGA_SIGNATURE);\n    }\n\n    iterator = storeInterface;\n    storeInterface = saga;\n  } else {\n    (0, _utils.check)(saga, _utils.is.func, NON_GENERATOR_ERR);\n    iterator = saga.apply(undefined, args);\n    (0, _utils.check)(iterator, _utils.is.iterator, NON_GENERATOR_ERR);\n  }\n\n  var _storeInterface = storeInterface,\n      subscribe = _storeInterface.subscribe,\n      dispatch = _storeInterface.dispatch,\n      getState = _storeInterface.getState,\n      context = _storeInterface.context,\n      sagaMonitor = _storeInterface.sagaMonitor,\n      logger = _storeInterface.logger,\n      onError = _storeInterface.onError;\n  var effectId = (0, _utils.uid)();\n\n  if (sagaMonitor) {\n    // monitors are expected to have a certain interface, let's fill-in any missing ones\n    sagaMonitor.effectTriggered = sagaMonitor.effectTriggered || _utils.noop;\n    sagaMonitor.effectResolved = sagaMonitor.effectResolved || _utils.noop;\n    sagaMonitor.effectRejected = sagaMonitor.effectRejected || _utils.noop;\n    sagaMonitor.effectCancelled = sagaMonitor.effectCancelled || _utils.noop;\n    sagaMonitor.actionDispatched = sagaMonitor.actionDispatched || _utils.noop;\n    sagaMonitor.effectTriggered({\n      effectId: effectId,\n      root: true,\n      parentEffectId: 0,\n      effect: {\n        root: true,\n        saga: saga,\n        args: args\n      }\n    });\n  }\n\n  var task = (0, _proc2.default)(iterator, subscribe, (0, _utils.wrapSagaDispatch)(dispatch), getState, context, {\n    sagaMonitor: sagaMonitor,\n    logger: logger,\n    onError: onError\n  }, effectId, saga.name);\n\n  if (sagaMonitor) {\n    sagaMonitor.effectResolved(effectId, task);\n  }\n\n  return task;\n}","map":null,"metadata":{},"sourceType":"script"}