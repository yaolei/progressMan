{"ast":null,"code":"import modelEnhance from '@/utils/modelEnhance';\nexport default modelEnhance({\n  namespace: 'form',\n  state: {\n    treeData: []\n  },\n  subscriptions: {\n    setup: function setup(_ref) {\n      var dispatch = _ref.dispatch,\n          history = _ref.history;\n      history.listen(function (_ref2) {\n        var pathname = _ref2.pathname;\n\n        if (pathname === '/form') {\n          dispatch({\n            type: '@request',\n            afterResponse: function afterResponse(resp) {\n              return resp.data;\n            },\n            payload: {\n              valueField: 'treeData',\n              url: '/tree/getAsyncTreeSelect'\n            }\n          });\n        }\n      });\n    }\n  }\n});","map":{"version":3,"sources":["/Users/evan/progressMan/src/routes/Widgets/Form/model/index.js"],"names":["modelEnhance","namespace","state","treeData","subscriptions","setup","dispatch","history","listen","pathname","type","afterResponse","resp","data","payload","valueField","url"],"mappings":"AAAA,OAAOA,YAAP,MAAyB,sBAAzB;AAEA,eAAeA,YAAY,CAAC;AAC1BC,EAAAA,SAAS,EAAE,MADe;AAG1BC,EAAAA,KAAK,EAAE;AACLC,IAAAA,QAAQ,EAAE;AADL,GAHmB;AAO1BC,EAAAA,aAAa,EAAE;AACbC,IAAAA,KADa,uBACgB;AAAA,UAArBC,QAAqB,QAArBA,QAAqB;AAAA,UAAXC,OAAW,QAAXA,OAAW;AAC3BA,MAAAA,OAAO,CAACC,MAAR,CAAe,iBAAkB;AAAA,YAAfC,QAAe,SAAfA,QAAe;;AAC/B,YAAIA,QAAQ,KAAK,OAAjB,EAA0B;AACxBH,UAAAA,QAAQ,CAAC;AACPI,YAAAA,IAAI,EAAE,UADC;AAEPC,YAAAA,aAAa,EAAE,uBAAAC,IAAI;AAAA,qBAAIA,IAAI,CAACC,IAAT;AAAA,aAFZ;AAGPC,YAAAA,OAAO,EAAE;AACPC,cAAAA,UAAU,EAAE,UADL;AAEPC,cAAAA,GAAG,EAAE;AAFE;AAHF,WAAD,CAAR;AAQD;AACF,OAXD;AAYD;AAdY;AAPW,CAAD,CAA3B","sourcesContent":["import modelEnhance from '@/utils/modelEnhance';\n\nexport default modelEnhance({\n  namespace: 'form',\n\n  state: {\n    treeData: [],\n  },\n\n  subscriptions: {\n    setup({ dispatch, history }) {\n      history.listen(({ pathname }) => {\n        if (pathname === '/form') {\n          dispatch({\n            type: '@request',\n            afterResponse: resp => resp.data,\n            payload: {\n              valueField: 'treeData',\n              url: '/tree/getAsyncTreeSelect',\n            }\n          });\n        }\n      });\n    }\n  },\n});"]},"metadata":{},"sourceType":"module"}