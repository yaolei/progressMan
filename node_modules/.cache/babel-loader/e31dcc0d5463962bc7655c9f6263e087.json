{"ast":null,"code":"import \"antd/lib/row/style\";\nimport _Row from \"antd/lib/row\";\nimport \"antd/lib/col/style\";\nimport _Col from \"antd/lib/col\";\nimport _classCallCheck from \"/Users/evan/progressMan/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/evan/progressMan/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/evan/progressMan/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/evan/progressMan/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/evan/progressMan/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport \"antd/lib/layout/style\";\nimport _Layout from \"antd/lib/layout\";\n\nvar _dec,\n    _class2,\n    _temp,\n    _jsxFileName = \"/Users/evan/progressMan/src/routes/Widgets/TransferTree/components/index.js\";\n\nimport React from 'react';\nimport { connect } from 'dva';\nimport BaseComponent from 'components/BaseComponent';\nimport Panel from 'components/Panel';\nimport TransferTree from 'components/TransferTree';\nimport $$ from 'cmn-utils';\nvar Content = _Layout.Content;\n\nvar _class = (_dec = connect(function (_ref) {\n  var transferTree = _ref.transferTree,\n      loading = _ref.loading;\n  return {\n    transferTree: transferTree,\n    loading: loading.models.transferTree\n  };\n}), _dec(_class2 = (_temp =\n/*#__PURE__*/\nfunction (_BaseComponent) {\n  _inherits(_class2, _BaseComponent);\n\n  function _class2() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, _class2);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(_class2)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.onLoadData = function (treeNode) {\n      var asyncDataSource = _this.props.transferTree.asyncDataSource;\n      return new Promise(function (resolve) {\n        if (treeNode.props.children) {\n          resolve();\n          return asyncDataSource;\n        }\n\n        _this.props.dispatch({\n          type: 'transferTree/@request',\n          afterResponse: function afterResponse(_ref2) {\n            var data = _ref2.data;\n            treeNode.props.dataRef.children = data;\n            resolve();\n            return asyncDataSource;\n          },\n          payload: {\n            valueField: 'asyncDataSource',\n            url: '/tree/getAsyncData',\n            data: treeNode.props.eventKey\n          }\n        });\n      });\n    };\n\n    _this.onAsyncSearch = function (searchText) {\n      return $$.post('/tree/getAsyncSearchData', {\n        search: searchText\n      }).then(function (_ref3) {\n        var data = _ref3.data;\n        return data;\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(_class2, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props$transferT = this.props.transferTree,\n          dataSource = _this$props$transferT.dataSource,\n          asyncDataSource = _this$props$transferT.asyncDataSource;\n      var loading = this.props.loading;\n      return React.createElement(_Layout, {\n        className: \"full-layout page transfer-tree-page\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }, React.createElement(Content, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, React.createElement(_Row, {\n        gutter: 20,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, React.createElement(_Col, {\n        span: \"12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, React.createElement(Panel, {\n        title: \"\\u6811\\u578B\\u7A7F\\u7F29\\u6846\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, React.createElement(TransferTree, {\n        dataSource: dataSource,\n        loading: loading,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }))), React.createElement(_Col, {\n        span: \"12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, React.createElement(Panel, {\n        title: \"\\u5F02\\u6B65\\u6811\\u578B\\u7A7F\\u7F29\\u6846\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, React.createElement(TransferTree, {\n        dataSource: asyncDataSource,\n        loadData: this.onLoadData,\n        asyncSearch: this.onAsyncSearch,\n        loading: loading,\n        showSearch: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      })))), React.createElement(_Row, {\n        gutter: 20,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, React.createElement(_Col, {\n        span: \"12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, React.createElement(Panel, {\n        title: \"\\u9ED8\\u8BA4\\u503C targetNodes\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, React.createElement(TransferTree, {\n        dataSource: dataSource,\n        loading: loading,\n        targetNodes: [{\n          key: '341522',\n          title: '霍邱县'\n        }, {\n          key: '340506',\n          title: '博望区'\n        }],\n        showSearch: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }))), React.createElement(_Col, {\n        span: \"12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return _class2;\n}(BaseComponent), _temp)) || _class2);\n\nexport { _class as default };","map":{"version":3,"sources":["/Users/evan/progressMan/src/routes/Widgets/TransferTree/components/index.js"],"names":["React","connect","BaseComponent","Panel","TransferTree","$$","Content","transferTree","loading","models","onLoadData","treeNode","asyncDataSource","props","Promise","resolve","children","dispatch","type","afterResponse","data","dataRef","payload","valueField","url","eventKey","onAsyncSearch","searchText","post","search","then","dataSource","key","title"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { connect } from 'dva';\nimport { Layout, Row, Col } from 'antd';\nimport BaseComponent from 'components/BaseComponent';\nimport Panel from 'components/Panel';\nimport TransferTree from 'components/TransferTree';\nimport $$ from 'cmn-utils';\nconst { Content } = Layout;\n\n@connect(({ transferTree, loading }) => ({\n  transferTree,\n  loading: loading.models.transferTree\n}))\nexport default class extends BaseComponent {\n  onLoadData = treeNode => {\n    const { asyncDataSource } = this.props.transferTree;\n    return new Promise(resolve => {\n      if (treeNode.props.children) {\n        resolve();\n        return asyncDataSource;\n      }\n      this.props.dispatch({\n        type: 'transferTree/@request',\n        afterResponse: ({ data }) => {\n          treeNode.props.dataRef.children = data;\n          resolve();\n          return asyncDataSource;\n        },\n        payload: {\n          valueField: 'asyncDataSource',\n          url: '/tree/getAsyncData',\n          data: treeNode.props.eventKey\n        }\n      });\n    });\n  };\n\n  onAsyncSearch = searchText => {\n    return $$.post('/tree/getAsyncSearchData', {search: searchText}).then(({data}) => data);\n  }\n\n  render() {\n    const { dataSource, asyncDataSource } = this.props.transferTree;\n    const { loading } = this.props;\n    return (\n      <Layout className=\"full-layout page transfer-tree-page\">\n        <Content>\n          <Row gutter={20}>\n            <Col span=\"12\">\n              <Panel title=\"树型穿缩框\">\n                <TransferTree dataSource={dataSource} loading={loading} />\n              </Panel>\n            </Col>\n            <Col span=\"12\">\n              <Panel title=\"异步树型穿缩框\">\n                <TransferTree\n                  dataSource={asyncDataSource}\n                  loadData={this.onLoadData}\n                  asyncSearch={this.onAsyncSearch}\n                  loading={loading}\n                  showSearch\n                />\n              </Panel>\n            </Col>\n          </Row>\n          <Row gutter={20}>\n            <Col span=\"12\">\n              <Panel title=\"默认值 targetNodes\">\n                <TransferTree\n                  dataSource={dataSource}\n                  loading={loading}\n                  targetNodes={[\n                    { key: '341522', title: '霍邱县' },\n                    { key: '340506', title: '博望区' }\n                  ]}\n                  showSearch\n                />\n              </Panel>\n            </Col>\n            <Col span=\"12\" />\n          </Row>\n        </Content>\n      </Layout>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}