{"ast":null,"code":"import _objectSpread from \"/Users/evan/progressMan/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/Users/evan/progressMan/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/evan/progressMan/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/evan/progressMan/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/evan/progressMan/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/evan/progressMan/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/evan/progressMan/src/components/Editor/Editor.js\";\nimport React, { PureComponent } from 'react';\nimport E from 'wangeditor';\nimport defaultConfig from './config';\nimport './style/index.less';\n\nvar Editor =\n/*#__PURE__*/\nfunction (_PureComponent) {\n  _inherits(Editor, _PureComponent);\n\n  function Editor(props) {\n    var _this;\n\n    _classCallCheck(this, Editor);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Editor).call(this));\n\n    _this.onChange = function (html) {\n      var onChange = _this.props.onChange;\n      if (onChange) onChange(html);\n    };\n\n    _this.state = {\n      value: props.value\n    };\n    return _this;\n  }\n\n  _createClass(Editor, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      if (this.props.value !== nextProps.value) {\n        this.setState({\n          value: nextProps.value\n        });\n        this.onChange(nextProps.value);\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this$props = this.props,\n          value = _this$props.value,\n          otherProps = _this$props.otherProps;\n      this.editor = new E(this.editorDom);\n      this.editor.customConfig = _objectSpread({}, defaultConfig, {\n        onchange: this.onChange\n      }, otherProps);\n      this.editor.create();\n      this.editor.txt.html(value);\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      if ('value' in this.props && prevState.value !== this.state.value) {\n        this.editor.txt.html(this.state.value || '');\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        className: \"antui-editor\",\n        ref: function ref(node) {\n          _this2.editorDom = node;\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      });\n    }\n  }]);\n\n  return Editor;\n}(PureComponent);\n\nexport default Editor;","map":{"version":3,"sources":["/Users/evan/progressMan/src/components/Editor/Editor.js"],"names":["React","PureComponent","E","defaultConfig","Editor","props","onChange","html","state","value","nextProps","setState","otherProps","editor","editorDom","customConfig","onchange","create","txt","prevProps","prevState","node"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,aAAhB,QAAqC,OAArC;AACA,OAAOC,CAAP,MAAc,YAAd;AACA,OAAOC,aAAP,MAA0B,UAA1B;AACA,OAAO,oBAAP;;IAEMC,M;;;;;AACJ,kBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB;;AADiB,UAiCnBC,QAjCmB,GAiCR,UAAAC,IAAI,EAAI;AAAA,UACTD,QADS,GACI,MAAKD,KADT,CACTC,QADS;AAEjB,UAAIA,QAAJ,EAAcA,QAAQ,CAACC,IAAD,CAAR;AACf,KApCkB;;AAEjB,UAAKC,KAAL,GAAa;AACXC,MAAAA,KAAK,EAAEJ,KAAK,CAACI;AADF,KAAb;AAFiB;AAKlB;;;;8CAEyBC,S,EAAW;AACnC,UAAI,KAAKL,KAAL,CAAWI,KAAX,KAAqBC,SAAS,CAACD,KAAnC,EAA0C;AACxC,aAAKE,QAAL,CAAc;AACZF,UAAAA,KAAK,EAAEC,SAAS,CAACD;AADL,SAAd;AAGA,aAAKH,QAAL,CAAcI,SAAS,CAACD,KAAxB;AACD;AACF;;;wCAEmB;AAAA,wBACY,KAAKJ,KADjB;AAAA,UACVI,KADU,eACVA,KADU;AAAA,UACHG,UADG,eACHA,UADG;AAElB,WAAKC,MAAL,GAAc,IAAIX,CAAJ,CAAM,KAAKY,SAAX,CAAd;AACA,WAAKD,MAAL,CAAYE,YAAZ,qBACKZ,aADL;AAEEa,QAAAA,QAAQ,EAAE,KAAKV;AAFjB,SAGKM,UAHL;AAKA,WAAKC,MAAL,CAAYI,MAAZ;AACA,WAAKJ,MAAL,CAAYK,GAAZ,CAAgBX,IAAhB,CAAqBE,KAArB;AACD;;;uCACkBU,S,EAAWC,S,EAAW;AACvC,UAAI,WAAW,KAAKf,KAAhB,IAAyBe,SAAS,CAACX,KAAV,KAAoB,KAAKD,KAAL,CAAWC,KAA5D,EAAmE;AACjE,aAAKI,MAAL,CAAYK,GAAZ,CAAgBX,IAAhB,CAAqB,KAAKC,KAAL,CAAWC,KAAX,IAAoB,EAAzC;AACD;AACF;;;6BAOQ;AAAA;;AACP,aACE;AACE,QAAA,SAAS,EAAC,cADZ;AAEE,QAAA,GAAG,EAAE,aAAAY,IAAI,EAAI;AACX,UAAA,MAAI,CAACP,SAAL,GAAiBO,IAAjB;AACD,SAJH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF;AAQD;;;;EAhDkBpB,a;;AAmDrB,eAAeG,MAAf","sourcesContent":["import React, { PureComponent } from 'react';\nimport E from 'wangeditor';\nimport defaultConfig from './config';\nimport './style/index.less';\n\nclass Editor extends PureComponent {\n  constructor(props) {\n    super();\n    this.state = {\n      value: props.value\n    };\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (this.props.value !== nextProps.value) {\n      this.setState({\n        value: nextProps.value\n      });\n      this.onChange(nextProps.value);\n    }\n  }\n\n  componentDidMount() {\n    const { value, otherProps } = this.props;\n    this.editor = new E(this.editorDom);\n    this.editor.customConfig = {\n      ...defaultConfig,\n      onchange: this.onChange,\n      ...otherProps\n    };\n    this.editor.create();\n    this.editor.txt.html(value);\n  }\n  componentDidUpdate(prevProps, prevState) {\n    if ('value' in this.props && prevState.value !== this.state.value) {\n      this.editor.txt.html(this.state.value || '');\n    }\n  }\n\n  onChange = html => {\n    const { onChange } = this.props;\n    if (onChange) onChange(html);\n  };\n\n  render() {\n    return (\n      <div\n        className=\"antui-editor\"\n        ref={node => {\n          this.editorDom = node;\n        }}\n      />\n    );\n  }\n}\n\nexport default Editor;\n"]},"metadata":{},"sourceType":"module"}