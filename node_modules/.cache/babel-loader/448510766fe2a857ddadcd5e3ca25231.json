{"ast":null,"code":"import \"antd/lib/drawer/style\";\nimport _Drawer from \"antd/lib/drawer\";\nimport \"antd/lib/switch/style\";\nimport _Switch from \"antd/lib/switch\";\nimport _defineProperty from \"/Users/evan/progressMan/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _toConsumableArray from \"/Users/evan/progressMan/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/Users/evan/progressMan/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/evan/progressMan/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/evan/progressMan/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/evan/progressMan/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/evan/progressMan/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport \"antd/lib/menu/style\";\nimport _Menu from \"antd/lib/menu\";\nimport \"antd/lib/layout/style\";\nimport _Layout from \"antd/lib/layout\";\nimport \"antd/lib/select/style\";\nimport _Select from \"antd/lib/select\";\nvar _jsxFileName = \"/Users/evan/progressMan/src/components/SideBar/LeftSideBar.js\";\n\n/**\n * 来源\n * https://github.com/ant-design/ant-design-pro/blob/master/src/components/SiderMenu/SiderMenu.js\n */\nimport React, { PureComponent } from 'react';\nimport cx from 'classnames';\nimport { Link } from 'dva/router';\nimport pathToRegexp from 'path-to-regexp';\nimport Icon from '../Icon';\nimport logoImg from 'assets/images/logo.png';\nimport './style/index.less';\nvar Option = _Select.Option;\nvar Sider = _Layout.Sider;\nvar SubMenu = _Menu.SubMenu; // Allow menu.js config icon as string or ReactNode\n//   icon: 'setting',\n//   icon: 'http://demo.com/icon.png',\n//   icon: <Icon type=\"setting\" />,\n\nvar getIcon = function getIcon(icon) {\n  if (typeof icon === 'string' && icon.indexOf('http') === 0) {\n    return React.createElement(\"img\", {\n      src: icon,\n      alt: \"icon\",\n      className: \"sider-menu-item-img\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 23\n      },\n      __self: this\n    });\n  }\n\n  if (typeof icon === 'string') {\n    return React.createElement(Icon, {\n      type: icon,\n      antd: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 26\n      },\n      __self: this\n    });\n  }\n\n  return icon;\n};\n\nexport var getMeunMatchKeys = function getMeunMatchKeys(flatMenu, path) {\n  return flatMenu.filter(function (item) {\n    return pathToRegexp(item.path).test(path);\n  });\n};\n\nvar LeftSideBar =\n/*#__PURE__*/\nfunction (_PureComponent) {\n  _inherits(LeftSideBar, _PureComponent);\n\n  function LeftSideBar(props) {\n    var _this;\n\n    _classCallCheck(this, LeftSideBar);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(LeftSideBar).call(this, props));\n\n    _this.getMenuItemPath = function (item) {\n      var itemPath = _this.conversionPath(item.path);\n\n      var icon = getIcon(item.icon);\n      var _this$props = _this.props,\n          isMobile = _this$props.isMobile,\n          onCollapse = _this$props.onCollapse;\n      var target = item.target,\n          name = item.name; // Is it a http link\n\n      if (/^https?:\\/\\//.test(itemPath)) {\n        return React.createElement(\"a\", {\n          href: itemPath,\n          target: target,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 71\n          },\n          __self: this\n        }, icon, React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 73\n          },\n          __self: this\n        }, name));\n      }\n\n      return React.createElement(Link, {\n        to: itemPath,\n        target: target,\n        replace: itemPath === _this.props.location.pathname,\n        onClick: isMobile ? onCollapse : function () {},\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, icon, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, name));\n    };\n\n    _this.getSubMenuOrItem = function (item) {\n      if (item.children && item.children.some(function (child) {\n        return child.name;\n      })) {\n        var childrenItems = _this.getNavMenuItems(item.children);\n\n        if (childrenItems && childrenItems.length > 0) {\n          return React.createElement(SubMenu, {\n            title: item.icon ? React.createElement(\"span\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 101\n              },\n              __self: this\n            }, getIcon(item.icon), React.createElement(\"span\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 103\n              },\n              __self: this\n            }, item.name)) : item.name,\n            key: item.path,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 98\n            },\n            __self: this\n          }, childrenItems);\n        }\n\n        return null;\n      } else {\n        return React.createElement(_Menu.Item, {\n          key: item.path,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 118\n          },\n          __self: this\n        }, _this.getMenuItemPath(item));\n      }\n    };\n\n    _this.getNavMenuItems = function (menusData) {\n      if (!menusData) {\n        return [];\n      }\n\n      return menusData.filter(function (item) {\n        return item.name && !item.hideInMenu;\n      }).map(function (item) {\n        var ItemDom = _this.getSubMenuOrItem(item);\n\n        return ItemDom;\n      }).filter(function (item) {\n        return item;\n      });\n    };\n\n    _this.conversionPath = function (path) {\n      if (path && path.indexOf('http') === 0) {\n        return path;\n      } else {\n        return \"/\".concat(path || '').replace(/\\/+/g, '/').replace(/\\/:\\w+\\??/, '');\n      }\n    };\n\n    _this.getSelectedMenuKeys = function () {\n      var pathname = _this.props.location.pathname;\n      var selectMenu = getMeunMatchKeys(_this.props.flatMenu, pathname)[0];\n      return selectMenu ? [selectMenu.path] : [];\n    };\n\n    _this.isMainMenu = function (key) {\n      return _this.props.menu.some(function (item) {\n        return key && (item.key === key || item.path === key);\n      });\n    };\n\n    _this.handleOpenChange = function (openKeys) {\n      var lastOpenKey = openKeys[openKeys.length - 1];\n      var moreThanOne = openKeys.filter(function (openKey) {\n        return _this.isMainMenu(openKey);\n      }).length > 1;\n\n      _this.setState({\n        openKeys: moreThanOne ? [lastOpenKey] : _toConsumableArray(openKeys)\n      });\n    };\n\n    _this.state = {\n      openKeys: props.currentMenu ? props.currentMenu.parentPath : []\n    };\n    return _this;\n  }\n\n  _createClass(LeftSideBar, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      if ('currentMenu' in nextProps) {\n        this.setState({\n          openKeys: nextProps.currentMenu.parentPath || []\n        });\n      }\n    }\n    /**\n     * 判断是否是http链接.返回 Link 或 a\n     * Judge whether it is http link.return a or Link\n     * @memberof SiderMenu\n     */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n          fixed = _this$props2.fixed,\n          theme = _this$props2.theme,\n          collapsed = _this$props2.collapsed,\n          onCollapse = _this$props2.onCollapse,\n          onCollapseAll = _this$props2.onCollapseAll,\n          leftCollapsedWidth = _this$props2.leftCollapsedWidth,\n          showHeader = _this$props2.showHeader,\n          menu = _this$props2.menu,\n          user = _this$props2.user,\n          isMobile = _this$props2.isMobile;\n      var classnames = cx('sidebar-left', 'sidebar-default', _defineProperty({\n        affix: !!fixed,\n        'sidebar-left-sm': collapsed,\n        'show-header': collapsed ? false : showHeader,\n        'sidebar-left-close': leftCollapsedWidth === 0\n      }, theme, !!theme));\n      var openKeys = this.state.openKeys; // if pathname can't match, use the nearest parent's key\n\n      var selectedKeys = this.getSelectedMenuKeys(); // Don't show popup menu when it is been collapsed\n\n      var menuProps = collapsed ? {\n        selectedKeys: selectedKeys\n      } : {\n        openKeys: openKeys,\n        selectedKeys: selectedKeys\n      };\n      var siderBar = React.createElement(Sider, {\n        className: classnames,\n        width: 230,\n        collapsedWidth: leftCollapsedWidth + 0.1,\n        collapsible: true,\n        collapsed: isMobile ? false : collapsed,\n        onCollapse: isMobile ? null : onCollapse,\n        breakpoint: \"lg\",\n        trigger: null,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"sidebar-left-content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216\n        },\n        __self: this\n      }, React.createElement(\"header\", {\n        className: \"sidebar-header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"userlogged clearfix\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        type: \"woman\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"user-details\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221\n        },\n        __self: this\n      }, user.name), React.createElement(\"div\", {\n        className: \"dropdown\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222\n        },\n        __self: this\n      }, React.createElement(_Select, {\n        size: \"small\",\n        defaultValue: \"online\",\n        dropdownClassName: \"sidebar-header-dropdown\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223\n        },\n        __self: this\n      }, React.createElement(Option, {\n        value: \"online\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"user online\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229\n        },\n        __self: this\n      }), \"\\u5728\\u7EBF\"), React.createElement(Option, {\n        value: \"busy\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 232\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"user busy\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233\n        },\n        __self: this\n      }), \"\\u5FD9\\u788C\"), React.createElement(Option, {\n        value: \"invisible\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"user invisible\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 237\n        },\n        __self: this\n      }), \"\\u9690\\u8EAB\"), React.createElement(Option, {\n        value: \"offline\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 240\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"user offline\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 241\n        },\n        __self: this\n      }), \"\\u79BB\\u7EBF\")))))), React.createElement(_Menu, Object.assign({\n        onClick: this.handleClick,\n        onOpenChange: this.handleOpenChange,\n        mode: \"inline\",\n        theme: theme\n      }, menuProps, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 249\n        },\n        __self: this\n      }), this.getNavMenuItems(menu)), React.createElement(\"div\", {\n        className: \"sidebar-toggle-mini\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 258\n        },\n        __self: this\n      }, collapsed && leftCollapsedWidth !== 0 && !isMobile ? React.createElement(_Switch, {\n        checked: collapsed,\n        onChange: onCollapseAll,\n        size: \"small\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 260\n        },\n        __self: this\n      }) : null)));\n      return isMobile ? React.createElement(_Drawer, {\n        className: \"left-sidebar-drawer\",\n        visible: !collapsed,\n        placement: \"left\",\n        onClose: onCollapse,\n        width: 230,\n        closable: false,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 272\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"navbar-branding\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 280\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"navbar-brand\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 281\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: logoImg,\n        alt: \"logo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 282\n        },\n        __self: this\n      }), React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 283\n        },\n        __self: this\n      }, \"LANIF\"), \"Admin\"), React.createElement(\"span\", {\n        className: \"toggle_sidemenu_l\",\n        onClick: onCollapse,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 286\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        type: \"lines\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 287\n        },\n        __self: this\n      }))), siderBar) : siderBar;\n    }\n  }]);\n\n  return LeftSideBar;\n}(PureComponent);\n\nLeftSideBar.defaultProps = {\n  fixed: true,\n  theme: ''\n};\nexport default LeftSideBar;","map":{"version":3,"sources":["/Users/evan/progressMan/src/components/SideBar/LeftSideBar.js"],"names":["React","PureComponent","cx","Link","pathToRegexp","Icon","logoImg","Option","Sider","SubMenu","getIcon","icon","indexOf","getMeunMatchKeys","flatMenu","path","filter","item","test","LeftSideBar","props","getMenuItemPath","itemPath","conversionPath","isMobile","onCollapse","target","name","location","pathname","getSubMenuOrItem","children","some","child","childrenItems","getNavMenuItems","length","menusData","hideInMenu","map","ItemDom","replace","getSelectedMenuKeys","selectMenu","isMainMenu","key","menu","handleOpenChange","openKeys","lastOpenKey","moreThanOne","openKey","setState","state","currentMenu","parentPath","nextProps","fixed","theme","collapsed","onCollapseAll","leftCollapsedWidth","showHeader","user","classnames","affix","selectedKeys","menuProps","siderBar","handleClick","defaultProps"],"mappings":"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","sourcesContent":["/**\n * 来源\n * https://github.com/ant-design/ant-design-pro/blob/master/src/components/SiderMenu/SiderMenu.js\n */\nimport React, { PureComponent } from 'react';\nimport cx from 'classnames';\nimport { Menu, Layout, Switch, Select, Drawer } from 'antd';\nimport { Link } from 'dva/router';\nimport pathToRegexp from 'path-to-regexp';\nimport Icon from '../Icon';\nimport logoImg from 'assets/images/logo.png';\nimport './style/index.less';\nconst Option = Select.Option;\nconst { Sider } = Layout;\nconst SubMenu = Menu.SubMenu;\n\n// Allow menu.js config icon as string or ReactNode\n//   icon: 'setting',\n//   icon: 'http://demo.com/icon.png',\n//   icon: <Icon type=\"setting\" />,\nconst getIcon = icon => {\n  if (typeof icon === 'string' && icon.indexOf('http') === 0) {\n    return <img src={icon} alt=\"icon\" className={`sider-menu-item-img`} />;\n  }\n  if (typeof icon === 'string') {\n    return <Icon type={icon} antd />;\n  }\n  return icon;\n};\n\nexport const getMeunMatchKeys = (flatMenu, path) => {\n  return flatMenu.filter(item => {\n    return pathToRegexp(item.path).test(path);\n  });\n};\n\nclass LeftSideBar extends PureComponent {\n  static defaultProps = {\n    fixed: true,\n    theme: ''\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      openKeys: props.currentMenu ? props.currentMenu.parentPath : []\n    };\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if ('currentMenu' in nextProps) {\n      this.setState({\n        openKeys: nextProps.currentMenu.parentPath || []\n      });\n    }\n  }\n\n  /**\n   * 判断是否是http链接.返回 Link 或 a\n   * Judge whether it is http link.return a or Link\n   * @memberof SiderMenu\n   */\n  getMenuItemPath = item => {\n    const itemPath = this.conversionPath(item.path);\n    const icon = getIcon(item.icon);\n    const { isMobile, onCollapse } = this.props;\n    const { target, name } = item;\n    // Is it a http link\n    if (/^https?:\\/\\//.test(itemPath)) {\n      return (\n        <a href={itemPath} target={target}>\n          {icon}\n          <span>{name}</span>\n        </a>\n      );\n    }\n    return (\n      <Link\n        to={itemPath}\n        target={target}\n        replace={itemPath === this.props.location.pathname}\n        onClick={isMobile ? onCollapse : () => {}}\n      >\n        {icon}\n        <span>{name}</span>\n      </Link>\n    );\n  };\n\n  /**\n   * get SubMenu or Item\n   */\n  getSubMenuOrItem = item => {\n    if (item.children && item.children.some(child => child.name)) {\n      const childrenItems = this.getNavMenuItems(item.children);\n      if (childrenItems && childrenItems.length > 0) {\n        return (\n          <SubMenu\n            title={\n              item.icon ? (\n                <span>\n                  {getIcon(item.icon)}\n                  <span>{item.name}</span>\n                </span>\n              ) : (\n                item.name\n              )\n            }\n            key={item.path}\n          >\n            {childrenItems}\n          </SubMenu>\n        );\n      }\n      return null;\n    } else {\n      return (\n        <Menu.Item key={item.path}>{this.getMenuItemPath(item)}</Menu.Item>\n      );\n    }\n  };\n  /**\n   * 获得菜单子节点\n   */\n  getNavMenuItems = menusData => {\n    if (!menusData) {\n      return [];\n    }\n    return menusData\n      .filter(item => item.name && !item.hideInMenu)\n      .map(item => {\n        const ItemDom = this.getSubMenuOrItem(item);\n        return ItemDom;\n      })\n      .filter(item => item);\n  };\n\n  // conversion Path\n  // 转化路径\n  conversionPath = path => {\n    if (path && path.indexOf('http') === 0) {\n      return path;\n    } else {\n      return `/${path || ''}`.replace(/\\/+/g, '/').replace(/\\/:\\w+\\??/, '');\n    }\n  };\n\n  // Get the currently selected menu\n  getSelectedMenuKeys = () => {\n    const pathname = this.props.location.pathname;\n    const selectMenu = getMeunMatchKeys(this.props.flatMenu, pathname)[0];\n    return selectMenu ? [selectMenu.path] : [];\n  };\n\n  isMainMenu = key => {\n    return this.props.menu.some(\n      item => key && (item.key === key || item.path === key)\n    );\n  };\n\n  handleOpenChange = openKeys => {\n    const lastOpenKey = openKeys[openKeys.length - 1];\n    const moreThanOne =\n      openKeys.filter(openKey => this.isMainMenu(openKey)).length > 1;\n    this.setState({\n      openKeys: moreThanOne ? [lastOpenKey] : [...openKeys]\n    });\n  };\n\n  render() {\n    const {\n      fixed,\n      theme,\n      collapsed,\n      onCollapse,\n      onCollapseAll,\n      leftCollapsedWidth,\n      showHeader,\n      menu,\n      user,\n      isMobile\n    } = this.props;\n\n    const classnames = cx('sidebar-left', 'sidebar-default', {\n      affix: !!fixed,\n      'sidebar-left-sm': collapsed,\n      'show-header': collapsed ? false : showHeader,\n      'sidebar-left-close': leftCollapsedWidth === 0,\n      [theme]: !!theme\n    });\n\n    const { openKeys } = this.state;\n    // if pathname can't match, use the nearest parent's key\n    let selectedKeys = this.getSelectedMenuKeys();\n    // Don't show popup menu when it is been collapsed\n    const menuProps = collapsed\n      ? {\n          selectedKeys\n        }\n      : {\n          openKeys,\n          selectedKeys\n        };\n\n    const siderBar = (\n      <Sider\n        className={classnames}\n        width={230}\n        collapsedWidth={leftCollapsedWidth + 0.1}\n        collapsible\n        collapsed={isMobile ? false : collapsed}\n        onCollapse={isMobile ? null : onCollapse}\n        breakpoint=\"lg\"\n        trigger={null}\n      >\n        <div className=\"sidebar-left-content\">\n          <header className=\"sidebar-header\">\n            <div className=\"userlogged clearfix\">\n              <Icon type=\"woman\" />\n              <div className=\"user-details\">\n                <span>{user.name}</span>\n                <div className=\"dropdown\">\n                  <Select\n                    size=\"small\"\n                    defaultValue=\"online\"\n                    dropdownClassName=\"sidebar-header-dropdown\"\n                  >\n                    <Option value=\"online\">\n                      <span className=\"user online\" />\n                      在线\n                    </Option>\n                    <Option value=\"busy\">\n                      <span className=\"user busy\" />\n                      忙碌\n                    </Option>\n                    <Option value=\"invisible\">\n                      <span className=\"user invisible\" />\n                      隐身\n                    </Option>\n                    <Option value=\"offline\">\n                      <span className=\"user offline\" />\n                      离线\n                    </Option>\n                  </Select>\n                </div>\n              </div>\n            </div>\n          </header>\n          <Menu\n            onClick={this.handleClick}\n            onOpenChange={this.handleOpenChange}\n            mode=\"inline\"\n            theme={theme}\n            {...menuProps}\n          >\n            {this.getNavMenuItems(menu)}\n          </Menu>\n          <div className=\"sidebar-toggle-mini\">\n            {collapsed && leftCollapsedWidth !== 0 && !isMobile ? (\n              <Switch\n                checked={collapsed}\n                onChange={onCollapseAll}\n                size=\"small\"\n              />\n            ) : null}\n          </div>\n        </div>\n      </Sider>\n    );\n\n    return isMobile ? (\n      <Drawer\n        className=\"left-sidebar-drawer\"\n        visible={!collapsed}\n        placement=\"left\"\n        onClose={onCollapse}\n        width={230}\n        closable={false}\n      >\n        <div className=\"navbar-branding\">\n          <div className=\"navbar-brand\">\n            <img src={logoImg} alt=\"logo\" />\n            <b>LANIF</b>\n            Admin\n          </div>\n          <span className=\"toggle_sidemenu_l\" onClick={onCollapse}>\n            <Icon type=\"lines\" />\n          </span>\n        </div>\n        {siderBar}\n      </Drawer>\n    ) : (\n      siderBar\n    );\n  }\n}\n\nexport default LeftSideBar;\n"]},"metadata":{},"sourceType":"module"}