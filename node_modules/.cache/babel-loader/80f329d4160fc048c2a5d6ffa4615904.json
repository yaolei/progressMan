{"ast":null,"code":"import \"antd/lib/input/style\";\nimport _Input from \"antd/lib/input\";\nimport \"antd/lib/icon/style\";\nimport _Icon from \"antd/lib/icon\";\nimport _classCallCheck from \"/Users/evan/progressMan/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/evan/progressMan/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/evan/progressMan/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/evan/progressMan/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/evan/progressMan/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/evan/progressMan/src/components/TransferTree/Search.js\";\nimport React from 'react';\nimport $$ from 'cmn-utils';\n\nvar Search =\n/*#__PURE__*/\nfunction (_React$PureComponent) {\n  _inherits(Search, _React$PureComponent);\n\n  function Search(props) {\n    var _this;\n\n    _classCallCheck(this, Search);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Search).call(this, props));\n    _this.state = {\n      value: ''\n    };\n\n    _this.handleChange = function (value) {\n      var onChange = _this.props.onChange;\n\n      if (onChange) {\n        _this.onChange(value);\n      }\n\n      _this.setState({\n        value: value\n      });\n    };\n\n    _this.handleClear = function (e) {\n      e.preventDefault();\n      var handleClear = _this.props.handleClear;\n\n      if (handleClear) {\n        handleClear(e);\n      }\n\n      _this.setState({\n        value: ''\n      });\n    };\n\n    _this.onChange = $$.debounce(props.onChange, 500);\n    return _this;\n  }\n\n  _createClass(Search, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          placeholder = _this$props.placeholder,\n          prefixCls = _this$props.prefixCls;\n      var icon = this.state.value && this.state.value.length > 0 ? React.createElement(\"a\", {\n        className: \"\".concat(prefixCls, \"-action\"),\n        onClick: this.handleClear,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }, React.createElement(_Icon, {\n        type: \"cross-circle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      })) : React.createElement(\"span\", {\n        className: \"\".concat(prefixCls, \"-action\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, React.createElement(_Icon, {\n        type: \"search\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }));\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, React.createElement(_Input, {\n        placeholder: placeholder,\n        className: prefixCls,\n        value: this.state.value,\n        ref: \"input\",\n        onChange: function onChange(e) {\n          return _this2.handleChange(e.target.value);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }), icon);\n    }\n  }]);\n\n  return Search;\n}(React.PureComponent);\n\nSearch.defaultProps = {\n  placeholder: ''\n};\nexport { Search as default };","map":{"version":3,"sources":["/Users/evan/progressMan/src/components/TransferTree/Search.js"],"names":["React","$$","Search","props","state","value","handleChange","onChange","setState","handleClear","e","preventDefault","debounce","placeholder","prefixCls","icon","length","target","PureComponent","defaultProps"],"mappings":";;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAOC,EAAP,MAAe,WAAf;;IAEqBC,M;;;;;AASnB,kBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,gFAAMA,KAAN;AADiB,UAJnBC,KAImB,GAJX;AACNC,MAAAA,KAAK,EAAE;AADD,KAIW;;AAAA,UAKnBC,YALmB,GAKJ,UAAAD,KAAK,EAAI;AACtB,UAAME,QAAQ,GAAG,MAAKJ,KAAL,CAAWI,QAA5B;;AACA,UAAIA,QAAJ,EAAc;AACZ,cAAKA,QAAL,CAAcF,KAAd;AACD;;AACD,YAAKG,QAAL,CAAc;AACZH,QAAAA,KAAK,EAALA;AADY,OAAd;AAGD,KAbkB;;AAAA,UAenBI,WAfmB,GAeL,UAAAC,CAAC,EAAI;AACjBA,MAAAA,CAAC,CAACC,cAAF;AAEA,UAAMF,WAAW,GAAG,MAAKN,KAAL,CAAWM,WAA/B;;AACA,UAAIA,WAAJ,EAAiB;AACfA,QAAAA,WAAW,CAACC,CAAD,CAAX;AACD;;AACD,YAAKF,QAAL,CAAc;AACZH,QAAAA,KAAK,EAAE;AADK,OAAd;AAGD,KAzBkB;;AAEjB,UAAKE,QAAL,GAAgBN,EAAE,CAACW,QAAH,CAAYT,KAAK,CAACI,QAAlB,EAA4B,GAA5B,CAAhB;AAFiB;AAGlB;;;;6BAwBQ;AAAA;;AAAA,wBAC4B,KAAKJ,KADjC;AAAA,UACCU,WADD,eACCA,WADD;AAAA,UACcC,SADd,eACcA,SADd;AAEP,UAAMC,IAAI,GACR,KAAKX,KAAL,CAAWC,KAAX,IAAoB,KAAKD,KAAL,CAAWC,KAAX,CAAiBW,MAAjB,GAA0B,CAA9C,GACE;AAAG,QAAA,SAAS,YAAKF,SAAL,YAAZ;AAAqC,QAAA,OAAO,EAAE,KAAKL,WAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAM,QAAA,IAAI,EAAC,cAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADF,GAKE;AAAM,QAAA,SAAS,YAAKK,SAAL,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAM,QAAA,IAAI,EAAC,QAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CANJ;AAUA,aACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AACE,QAAA,WAAW,EAAED,WADf;AAEE,QAAA,SAAS,EAAEC,SAFb;AAGE,QAAA,KAAK,EAAE,KAAKV,KAAL,CAAWC,KAHpB;AAIE,QAAA,GAAG,EAAC,OAJN;AAKE,QAAA,QAAQ,EAAE,kBAAAK,CAAC;AAAA,iBAAI,MAAI,CAACJ,YAAL,CAAkBI,CAAC,CAACO,MAAF,CAASZ,KAA3B,CAAJ;AAAA,SALb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAQGU,IARH,CADF;AAYD;;;;EA5DiCf,KAAK,CAACkB,a;;AAArBhB,M,CACZiB,Y,GAAe;AACpBN,EAAAA,WAAW,EAAE;AADO,C;SADHX,M","sourcesContent":["import React from 'react';\nimport { Input, Icon } from 'antd';\nimport $$ from 'cmn-utils';\n\nexport default class Search extends React.PureComponent {\n  static defaultProps = {\n    placeholder: ''\n  };\n\n  state = {\n    value: '',\n  }\n\n  constructor(props) {\n    super(props);\n    this.onChange = $$.debounce(props.onChange, 500);\n  }\n\n  handleChange = value => {\n    const onChange = this.props.onChange;\n    if (onChange) {\n      this.onChange(value);\n    }\n    this.setState({\n      value\n    })\n  };\n\n  handleClear = e => {\n    e.preventDefault();\n\n    const handleClear = this.props.handleClear;\n    if (handleClear) {\n      handleClear(e);\n    }\n    this.setState({\n      value: ''\n    })\n  };\n\n  render() {\n    const { placeholder, prefixCls } = this.props;\n    const icon =\n      this.state.value && this.state.value.length > 0 ? (\n        <a className={`${prefixCls}-action`} onClick={this.handleClear}>\n          <Icon type=\"cross-circle\" />\n        </a>\n      ) : (\n        <span className={`${prefixCls}-action`}>\n          <Icon type=\"search\" />\n        </span>\n      );\n    return (\n      <div>\n        <Input\n          placeholder={placeholder}\n          className={prefixCls}\n          value={this.state.value}\n          ref=\"input\"\n          onChange={e => this.handleChange(e.target.value)}\n        />\n        {icon}\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}