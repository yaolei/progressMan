{"ast":null,"code":"import _defineProperty from \"/Users/evan/progressMan/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport \"antd/lib/icon/style\";\nimport _Icon from \"antd/lib/icon\";\nimport _classCallCheck from \"/Users/evan/progressMan/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/evan/progressMan/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/evan/progressMan/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/evan/progressMan/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/evan/progressMan/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/evan/progressMan/src/components/TransferTree/List.js\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\n\nfunction noop() {}\n\nvar List =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(List, _React$Component);\n\n  function List(props) {\n    var _this;\n\n    _classCallCheck(this, List);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(List).call(this, props));\n\n    _this.handleDeleteItem = function (e, items) {\n      e.preventDefault();\n      e.stopPropagation();\n\n      _this.props.onDeleteItem(items ? items : _this.state.dataSource);\n    };\n\n    _this.renderItem = function (i, key) {\n      var _this$props = _this.props,\n          render = _this$props.render,\n          titleKey = _this$props.titleKey,\n          rowKey = _this$props.rowKey;\n      var item = _this.state.dataSource[i];\n      return React.createElement(\"li\", {\n        className: \"list-comp-item\",\n        \"data-key\": item[rowKey],\n        title: item[titleKey],\n        key: item[rowKey],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"list-comp-item-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, render ? render(item) : item.title), React.createElement(\"a\", {\n        className: \"list-comp-clear-item\",\n        onClick: function onClick(e) {\n          return _this.handleDeleteItem(e, [item]);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, React.createElement(_Icon, {\n        type: \"cross\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      })));\n    };\n\n    _this.state = {\n      dataSource: _this.getDataSource(props)\n    };\n    return _this;\n  }\n\n  _createClass(List, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      var dataSource = this.getDataSource(nextProps);\n      var st = {};\n\n      if (dataSource) {\n        st.dataSource = dataSource;\n      }\n\n      this.setState(st);\n    }\n  }, {\n    key: \"getDataSource\",\n    value: function getDataSource(props) {\n      var dataSource = [];\n\n      if (\"dataSource\" in props) {\n        dataSource = props.dataSource;\n      }\n\n      return dataSource;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props2 = this.props,\n          prefixCls = _this$props2.prefixCls,\n          notFoundContent = _this$props2.notFoundContent,\n          style = _this$props2.style;\n      var listCls = classNames(_defineProperty({}, prefixCls, true));\n      var unit = '条';\n      return React.createElement(\"div\", {\n        className: listCls,\n        style: style,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"\".concat(prefixCls, \"-header\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"\".concat(prefixCls, \"-header-selected\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, this.state.dataSource.length, \" \", unit), React.createElement(\"span\", {\n        className: \"\".concat(prefixCls, \"-header-title\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        className: \"\".concat(prefixCls, \"-clear-all\"),\n        onClick: function onClick(e) {\n          return _this2.handleDeleteItem(e);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, \"\\u5220\\u9664\\u6240\\u6709\")))), React.createElement(\"div\", {\n        className: \"\".concat(prefixCls, \"-body\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"\".concat(prefixCls, \"-body-content\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, !!this.state.dataSource.length || React.createElement(\"div\", {\n        className: \"\".concat(prefixCls, \"-body-content-not-found\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, notFoundContent || '列表为空'), this.state.dataSource.map(function (item, i) {\n        return _this2.renderItem(i, item[_this2.props.rowKey]);\n      }))));\n    }\n  }]);\n\n  return List;\n}(React.Component);\n\nList.defaultProps = {\n  prefixCls: 'antui-transfer-tree-list',\n  dataSource: [],\n  rowKey: 'key',\n  onDeleteItem: noop\n};\nList.propTypes = {\n  prefixCls: PropTypes.string,\n  dataSource: PropTypes.array,\n  rowKey: PropTypes.string,\n  style: PropTypes.object,\n  render: PropTypes.func,\n  onDeleteItem: PropTypes.func\n};\nexport { List as default };","map":{"version":3,"sources":["/Users/evan/progressMan/src/components/TransferTree/List.js"],"names":["React","PropTypes","classNames","noop","List","props","handleDeleteItem","e","items","preventDefault","stopPropagation","onDeleteItem","state","dataSource","renderItem","i","key","render","titleKey","rowKey","item","title","getDataSource","nextProps","st","setState","prefixCls","notFoundContent","style","listCls","unit","length","map","Component","defaultProps","propTypes","string","array","object","func"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types'\nimport {Icon} from 'antd';\nimport classNames from 'classnames';\n\nfunction noop() {\n}\n\nexport default class List extends React.Component {\n  static defaultProps = {\n    prefixCls: 'antui-transfer-tree-list',\n    dataSource: [],\n    rowKey: 'key',\n    onDeleteItem: noop,\n  };\n\n  static propTypes = {\n    prefixCls: PropTypes.string,\n    dataSource: PropTypes.array,\n    rowKey: PropTypes.string,\n    style: PropTypes.object,\n    render: PropTypes.func,\n    onDeleteItem: PropTypes.func,\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      dataSource: this.getDataSource(props)\n    };\n  }\n\n  componentWillReceiveProps(nextProps) {\n    const dataSource = this.getDataSource(nextProps);\n    const st = {};\n\n    if (dataSource) {\n      st.dataSource = dataSource;\n    }\n    this.setState(st);\n  }\n\n  getDataSource(props) {\n    let dataSource = [];\n    if (\"dataSource\" in props) {\n      dataSource = props.dataSource;\n    }\n    return dataSource;\n  }\n\n  handleDeleteItem = (e, items) => {\n    e.preventDefault();\n    e.stopPropagation();\n\n    this.props.onDeleteItem(items ? items : this.state.dataSource);\n  }\n\n  renderItem = (i, key) => {\n    const {render, titleKey, rowKey} = this.props;\n\n    let item = this.state.dataSource[i];\n    \n    return (\n      <li className=\"list-comp-item\" data-key={item[rowKey]}\n        title={item[titleKey]}\n        key={item[rowKey]}\n      >\n        <span className=\"list-comp-item-body\">{render ? render(item) : item.title}</span>\n        <a className={`list-comp-clear-item`} onClick={(e) => this.handleDeleteItem(e, [item])}>\n          <Icon type=\"cross\" />\n        </a>\n      </li>\n    );\n  }\n\n  render() {\n    const { prefixCls, notFoundContent, style } = this.props;\n\n    const listCls = classNames({\n      [prefixCls]: true\n    });\n\n    let unit = '条';\n\n    return (\n      <div className={listCls} style={style}>\n        <div className={`${prefixCls}-header`}>\n          <span className={`${prefixCls}-header-selected`}>\n            <span>\n              {this.state.dataSource.length} {unit}\n            </span>\n            <span className={`${prefixCls}-header-title`}>\n              <a className={`${prefixCls}-clear-all`} onClick={(e) => this.handleDeleteItem(e)}>\n                删除所有\n              </a>\n            </span>\n          </span>\n        </div>\n        <div className={`${prefixCls}-body`}>\n          <div className={`${prefixCls}-body-content`}>\n            {!!this.state.dataSource.length || <div className={`${prefixCls}-body-content-not-found`}>{notFoundContent || '列表为空'}</div>}\n            {this.state.dataSource.map((item, i) => this.renderItem(i, item[this.props.rowKey]))}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}"]},"metadata":{},"sourceType":"module"}