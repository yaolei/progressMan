{"ast":null,"code":"import _objectWithoutProperties from \"/Users/evan/progressMan/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _classCallCheck from \"/Users/evan/progressMan/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/evan/progressMan/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/evan/progressMan/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/evan/progressMan/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/evan/progressMan/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/evan/progressMan/src/components/Button/Ripple.js\";\nimport React, { Component } from 'react';\nimport cx from 'classnames';\nimport './style/ripple.less';\n/**\n * 仿 material design ripple 效果\n */\n\nvar Ripple =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Ripple, _Component);\n\n  function Ripple() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Ripple);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Ripple)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.onClick = function (e) {\n      _this.createRipple(e);\n    };\n\n    _this.createRipple = function (e) {\n      var btnWidth = _this.element.clientWidth;\n\n      var rect = _this.element.getBoundingClientRect();\n\n      var btnOffsetTop = rect.top;\n      var btnOffsetLeft = rect.left;\n      var posMouseX = e.pageX;\n      var posMouseY = e.pageY;\n      var rippleX = posMouseX - btnOffsetLeft;\n      var rippleY = posMouseY - btnOffsetTop;\n      var rippleAnimate = document.createElement('div');\n      rippleAnimate.className = 'ripple-animate';\n      var baseStyle = \"\\n      top: \".concat(rippleY - btnWidth, \"px; \\n      left: \").concat(rippleX - btnWidth, \"px; \\n      width: \").concat(btnWidth * 2, \"px; \\n      height: \").concat(btnWidth * 2, \"px;\\n    \");\n      rippleAnimate.style.cssText = baseStyle;\n\n      _this.element.appendChild(rippleAnimate);\n\n      setTimeout(function () {\n        requestAnimationFrame(function () {\n          rippleAnimate.style.cssText = baseStyle + ' transform: scale(1); -webkit-transition: scale(1); opacity: 0;';\n        });\n      }, 50); // 如不加延时有时动画不会生效，没找到原因\n\n      setTimeout(function () {\n        rippleAnimate.remove();\n      }, 750);\n    };\n\n    return _this;\n  }\n\n  _createClass(Ripple, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          children = _this$props.children,\n          type = _this$props.type,\n          ghost = _this$props.ghost,\n          otherProps = _objectWithoutProperties(_this$props, [\"children\", \"type\", \"ghost\"]);\n\n      return React.createElement(\"a\", Object.assign({\n        ref: function ref(node) {\n          return _this2.element = node;\n        },\n        className: cx('ripple-btn', type, {\n          ghost: ghost\n        })\n      }, otherProps, {\n        onClick: this.onClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, children));\n    }\n  }]);\n\n  return Ripple;\n}(Component);\n\nexport default Ripple;","map":{"version":3,"sources":["/Users/evan/progressMan/src/components/Button/Ripple.js"],"names":["React","Component","cx","Ripple","onClick","e","createRipple","btnWidth","element","clientWidth","rect","getBoundingClientRect","btnOffsetTop","top","btnOffsetLeft","left","posMouseX","pageX","posMouseY","pageY","rippleX","rippleY","rippleAnimate","document","createElement","className","baseStyle","style","cssText","appendChild","setTimeout","requestAnimationFrame","remove","props","children","type","ghost","otherProps","node"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,EAAP,MAAe,YAAf;AACA,OAAO,qBAAP;AAEA;;;;IAGMC,M;;;;;;;;;;;;;;;;;;UACJC,O,GAAU,UAAAC,CAAC,EAAI;AACb,YAAKC,YAAL,CAAkBD,CAAlB;AACD,K;;UAEDC,Y,GAAe,UAAAD,CAAC,EAAI;AAClB,UAAME,QAAQ,GAAG,MAAKC,OAAL,CAAaC,WAA9B;;AACA,UAAMC,IAAI,GAAG,MAAKF,OAAL,CAAaG,qBAAb,EAAb;;AACA,UAAMC,YAAY,GAAGF,IAAI,CAACG,GAA1B;AACA,UAAMC,aAAa,GAAGJ,IAAI,CAACK,IAA3B;AACA,UAAMC,SAAS,GAAGX,CAAC,CAACY,KAApB;AACA,UAAMC,SAAS,GAAGb,CAAC,CAACc,KAApB;AACA,UAAMC,OAAO,GAAGJ,SAAS,GAAGF,aAA5B;AACA,UAAMO,OAAO,GAAGH,SAAS,GAAGN,YAA5B;AAEA,UAAMU,aAAa,GAAGC,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAtB;AACAF,MAAAA,aAAa,CAACG,SAAd,GAA0B,gBAA1B;AACA,UAAMC,SAAS,0BACNL,OAAO,GAAGd,QADJ,+BAELa,OAAO,GAAGb,QAFL,gCAGJA,QAAQ,GAAG,CAHP,iCAIHA,QAAQ,GAAG,CAJR,cAAf;AAMAe,MAAAA,aAAa,CAACK,KAAd,CAAoBC,OAApB,GAA8BF,SAA9B;;AACA,YAAKlB,OAAL,CAAaqB,WAAb,CAAyBP,aAAzB;;AAEAQ,MAAAA,UAAU,CAAC,YAAM;AACfC,QAAAA,qBAAqB,CAAC,YAAM;AAC1BT,UAAAA,aAAa,CAACK,KAAd,CAAoBC,OAApB,GACEF,SAAS,GACT,iEAFF;AAGD,SAJoB,CAArB;AAKD,OANS,EAMP,EANO,CAAV,CArBkB,CA2BV;;AAERI,MAAAA,UAAU,CAAC,YAAM;AACfR,QAAAA,aAAa,CAACU,MAAd;AACD,OAFS,EAEP,GAFO,CAAV;AAGD,K;;;;;;;6BAEQ;AAAA;;AAAA,wBAC0C,KAAKC,KAD/C;AAAA,UACCC,QADD,eACCA,QADD;AAAA,UACWC,IADX,eACWA,IADX;AAAA,UACiBC,KADjB,eACiBA,KADjB;AAAA,UAC2BC,UAD3B;;AAEP,aACE;AACE,QAAA,GAAG,EAAE,aAAAC,IAAI;AAAA,iBAAK,MAAI,CAAC9B,OAAL,GAAe8B,IAApB;AAAA,SADX;AAEE,QAAA,SAAS,EAAEpC,EAAE,CAAC,YAAD,EAAeiC,IAAf,EAAqB;AAAEC,UAAAA,KAAK,EAALA;AAAF,SAArB;AAFf,SAGMC,UAHN;AAIE,QAAA,OAAO,EAAE,KAAKjC,OAJhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAME;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAO8B,QAAP,CANF,CADF;AAUD;;;;EAnDkBjC,S;;AAsDrB,eAAeE,MAAf","sourcesContent":["import React, { Component } from 'react';\nimport cx from 'classnames';\nimport './style/ripple.less';\n\n/**\n * 仿 material design ripple 效果\n */\nclass Ripple extends Component {\n  onClick = e => {\n    this.createRipple(e);\n  };\n\n  createRipple = e => {\n    const btnWidth = this.element.clientWidth;\n    const rect = this.element.getBoundingClientRect();\n    const btnOffsetTop = rect.top;\n    const btnOffsetLeft = rect.left;\n    const posMouseX = e.pageX;\n    const posMouseY = e.pageY;\n    const rippleX = posMouseX - btnOffsetLeft;\n    const rippleY = posMouseY - btnOffsetTop;\n\n    const rippleAnimate = document.createElement('div');\n    rippleAnimate.className = 'ripple-animate';\n    const baseStyle = `\n      top: ${rippleY - btnWidth}px; \n      left: ${rippleX - btnWidth}px; \n      width: ${btnWidth * 2}px; \n      height: ${btnWidth * 2}px;\n    `;\n    rippleAnimate.style.cssText = baseStyle;\n    this.element.appendChild(rippleAnimate);\n\n    setTimeout(() => {\n      requestAnimationFrame(() => {\n        rippleAnimate.style.cssText =\n          baseStyle +\n          ' transform: scale(1); -webkit-transition: scale(1); opacity: 0;';\n      });\n    }, 50); // 如不加延时有时动画不会生效，没找到原因\n\n    setTimeout(() => {\n      rippleAnimate.remove();\n    }, 750);\n  };\n\n  render() {\n    const { children, type, ghost, ...otherProps } = this.props;\n    return (\n      <a\n        ref={node => (this.element = node)}\n        className={cx('ripple-btn', type, { ghost })}\n        {...otherProps}\n        onClick={this.onClick}\n      >\n        <span>{children}</span>\n      </a>\n    );\n  }\n}\n\nexport default Ripple;\n"]},"metadata":{},"sourceType":"module"}