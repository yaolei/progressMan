{"ast":null,"code":"import _objectSpread from \"/Users/evan/progressMan/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _objectWithoutProperties from \"/Users/evan/progressMan/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _classCallCheck from \"/Users/evan/progressMan/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/evan/progressMan/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/evan/progressMan/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/evan/progressMan/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/evan/progressMan/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/evan/progressMan/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/evan/progressMan/src/components/CSSAnimate/index.js\";\nimport React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport ReactDOM from 'react-dom';\nimport cssAnimate, { isCssAnimationSupported } from 'css-animation';\nimport cx from 'classnames';\nimport omit from 'object.omit';\n\nvar CSSAnimate =\n/*#__PURE__*/\nfunction (_PureComponent) {\n  _inherits(CSSAnimate, _PureComponent);\n\n  function CSSAnimate() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, CSSAnimate);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(CSSAnimate)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.animate = function (type, callback) {\n      var node = ReactDOM.findDOMNode(_assertThisInitialized(_assertThisInitialized(_this)));\n\n      if (isCssAnimationSupported && type) {\n        cssAnimate(node, type, callback);\n      } else if (!isCssAnimationSupported) {\n        console.warn('不支持css动画');\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(CSSAnimate, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this$props = this.props,\n          type = _this$props.type,\n          callback = _this$props.callback;\n      this.animate(type, callback);\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      var _this$props2 = this.props,\n          type = _this$props2.type,\n          callback = _this$props2.callback;\n      this.animate(type, callback);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props3 = this.props,\n          className = _this$props3.className,\n          children = _this$props3.children,\n          delay = _this$props3.delay,\n          duration = _this$props3.duration,\n          style = _this$props3.style,\n          otherProps = _objectWithoutProperties(_this$props3, [\"className\", \"children\", \"delay\", \"duration\", \"style\"]);\n\n      var classnames = cx('animated', className);\n\n      var _style = _objectSpread({}, style);\n\n      if (duration) {\n        _style.animationDuration = duration + 'ms';\n        _style.WebkitAnimationDuration = duration + 'ms';\n      }\n\n      if (delay) {\n        _style.animationDelay = delay + 'ms';\n        _style.WebkitAnimationDelay = delay + 'ms';\n      }\n\n      var divProps = omit(otherProps, ['type', 'callback', 'delay', 'duration']);\n      return React.createElement(\"div\", Object.assign({\n        className: classnames\n      }, divProps, {\n        style: _style,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }), children);\n    }\n  }]);\n\n  return CSSAnimate;\n}(PureComponent);\n\nCSSAnimate.propTypes = {\n  type: PropTypes.string,\n  // 动画名称\n  callback: PropTypes.func,\n  // 动画结束的回调函数\n  duration: PropTypes.number,\n  // 动画持续时间\n  delay: PropTypes.number // 动画延时\n\n};\nexport default CSSAnimate;","map":{"version":3,"sources":["/Users/evan/progressMan/src/components/CSSAnimate/index.js"],"names":["React","PureComponent","PropTypes","ReactDOM","cssAnimate","isCssAnimationSupported","cx","omit","CSSAnimate","animate","type","callback","node","findDOMNode","console","warn","props","prevProps","prevState","className","children","delay","duration","style","otherProps","classnames","_style","animationDuration","WebkitAnimationDuration","animationDelay","WebkitAnimationDelay","divProps","propTypes","string","func","number"],"mappings":";;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,aAAhB,QAAqC,OAArC;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,QAAP,MAAqB,WAArB;AACA,OAAOC,UAAP,IAAqBC,uBAArB,QAAoD,eAApD;AACA,OAAOC,EAAP,MAAe,YAAf;AACA,OAAOC,IAAP,MAAiB,aAAjB;;IAEMC,U;;;;;;;;;;;;;;;;;;UAkBJC,O,GAAU,UAACC,IAAD,EAAOC,QAAP,EAAoB;AAC5B,UAAMC,IAAI,GAAGT,QAAQ,CAACU,WAAT,uDAAb;;AAEA,UAAIR,uBAAuB,IAAIK,IAA/B,EAAqC;AACnCN,QAAAA,UAAU,CAACQ,IAAD,EAAOF,IAAP,EAAaC,QAAb,CAAV;AACD,OAFD,MAEO,IAAI,CAACN,uBAAL,EAA6B;AAClCS,QAAAA,OAAO,CAACC,IAAR,CAAa,UAAb;AACD;AACF,K;;;;;;;wCAlBmB;AAAA,wBACS,KAAKC,KADd;AAAA,UACVN,IADU,eACVA,IADU;AAAA,UACJC,QADI,eACJA,QADI;AAElB,WAAKF,OAAL,CAAaC,IAAb,EAAmBC,QAAnB;AACD;;;uCAEkBM,S,EAAWC,S,EAAW;AAAA,yBACZ,KAAKF,KADO;AAAA,UAC/BN,IAD+B,gBAC/BA,IAD+B;AAAA,UACzBC,QADyB,gBACzBA,QADyB;AAEvC,WAAKF,OAAL,CAAaC,IAAb,EAAmBC,QAAnB;AACD;;;6BAYQ;AAAA,yBACgE,KAAKK,KADrE;AAAA,UACCG,SADD,gBACCA,SADD;AAAA,UACYC,QADZ,gBACYA,QADZ;AAAA,UACsBC,KADtB,gBACsBA,KADtB;AAAA,UAC6BC,QAD7B,gBAC6BA,QAD7B;AAAA,UACuCC,KADvC,gBACuCA,KADvC;AAAA,UACiDC,UADjD;;AAEP,UAAMC,UAAU,GAAGnB,EAAE,CACnB,UADmB,EAEnBa,SAFmB,CAArB;;AAIA,UAAMO,MAAM,qBAAOH,KAAP,CAAZ;;AACA,UAAID,QAAJ,EAAc;AACZI,QAAAA,MAAM,CAACC,iBAAP,GAA2BL,QAAQ,GAAG,IAAtC;AACAI,QAAAA,MAAM,CAACE,uBAAP,GAAiCN,QAAQ,GAAG,IAA5C;AACD;;AAED,UAAID,KAAJ,EAAW;AACTK,QAAAA,MAAM,CAACG,cAAP,GAAwBR,KAAK,GAAG,IAAhC;AACAK,QAAAA,MAAM,CAACI,oBAAP,GAA8BT,KAAK,GAAG,IAAtC;AACD;;AAED,UAAMU,QAAQ,GAAGxB,IAAI,CAACiB,UAAD,EAAa,CAAC,MAAD,EAAS,UAAT,EAAqB,OAArB,EAA8B,UAA9B,CAAb,CAArB;AAEA,aACE;AAAK,QAAA,SAAS,EAAEC;AAAhB,SAAgCM,QAAhC;AAA0C,QAAA,KAAK,EAAEL,MAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UACGN,QADH,CADF;AAKD;;;;EApDsBnB,a;;AAAnBO,U,CACGwB,S,GAAY;AACjBtB,EAAAA,IAAI,EAAER,SAAS,CAAC+B,MADC;AACO;AACxBtB,EAAAA,QAAQ,EAAET,SAAS,CAACgC,IAFH;AAES;AAC1BZ,EAAAA,QAAQ,EAAEpB,SAAS,CAACiC,MAHH;AAGW;AAC5Bd,EAAAA,KAAK,EAAEnB,SAAS,CAACiC,MAJA,CAIQ;;AAJR,C;AAsDrB,eAAe3B,UAAf","sourcesContent":["import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport ReactDOM from 'react-dom';\nimport cssAnimate, { isCssAnimationSupported } from 'css-animation';\nimport cx from 'classnames';\nimport omit from 'object.omit';\n\nclass CSSAnimate extends PureComponent {\n  static propTypes = {\n    type: PropTypes.string, // 动画名称\n    callback: PropTypes.func, // 动画结束的回调函数\n    duration: PropTypes.number, // 动画持续时间\n    delay: PropTypes.number, // 动画延时\n  }\n\n  componentDidMount() {\n    const { type, callback } = this.props;\n    this.animate(type, callback);\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const { type, callback } = this.props;\n    this.animate(type, callback);\n  }\n\n  animate = (type, callback) => {\n    const node = ReactDOM.findDOMNode(this);\n\n    if (isCssAnimationSupported && type) {\n      cssAnimate(node, type, callback);\n    } else if (!isCssAnimationSupported){\n      console.warn('不支持css动画');\n    }\n  }\n\n  render() {\n    const { className, children, delay, duration, style, ...otherProps } = this.props;\n    const classnames = cx(\n      'animated',\n      className\n    );\n    const _style = {...style};\n    if (duration) {\n      _style.animationDuration = duration + 'ms';\n      _style.WebkitAnimationDuration = duration + 'ms';\n    }\n\n    if (delay) {\n      _style.animationDelay = delay + 'ms';\n      _style.WebkitAnimationDelay = delay + 'ms';\n    }\n\n    const divProps = omit(otherProps, ['type', 'callback', 'delay', 'duration']);\n    \n    return (\n      <div className={classnames} {...divProps} style={_style}>\n        {children}\n      </div>\n    );\n  }\n}\n\nexport default CSSAnimate;"]},"metadata":{},"sourceType":"module"}