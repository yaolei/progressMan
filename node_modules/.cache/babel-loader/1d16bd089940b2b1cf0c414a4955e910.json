{"ast":null,"code":"import \"antd/lib/breadcrumb/style\";\nimport _Breadcrumb from \"antd/lib/breadcrumb\";\nimport \"antd/lib/row/style\";\nimport _Row from \"antd/lib/row\";\nimport \"antd/lib/col/style\";\nimport _Col from \"antd/lib/col\";\nimport _classCallCheck from \"/Users/evan/progressMan/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/evan/progressMan/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/evan/progressMan/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/evan/progressMan/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/evan/progressMan/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/evan/progressMan/src/components/TopBar/TopBar.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'dva/router';\nimport Icon from '../Icon';\nimport cx from 'classnames';\nimport CSSAnimate from '../CSSAnimate';\nimport Mask from '../Mask';\nimport './style/index.less';\n\nvar TopBar =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(TopBar, _Component);\n\n  function TopBar(props) {\n    var _this;\n\n    _classCallCheck(this, TopBar);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(TopBar).call(this, props));\n\n    _this.getRouteLevel = function (pathName) {\n      var orderPaths = [];\n      pathName.split('/').reduce(function (prev, next) {\n        var path = [prev, next].join('/');\n        orderPaths.push(path);\n        return path;\n      });\n      return orderPaths.map(function (item) {\n        return window.dva_router_pathMap[item];\n      }).filter(function (item) {\n        return !!item;\n      });\n    };\n\n    _this.state = {\n      currentRoute: _this.getRouteLevel(props.location.pathname) || []\n    };\n    return _this;\n  }\n\n  _createClass(TopBar, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      var currentRoute = this.getRouteLevel(nextProps.location.pathname);\n      this.setState({\n        currentRoute: currentRoute\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          expand = _this$props.expand,\n          toggleRightSide = _this$props.toggleRightSide,\n          collapsedRightSide = _this$props.collapsedRightSide,\n          onCollapse = _this$props.onCollapse;\n      var currentRoute = this.state.currentRoute;\n      var classnames = cx('topbar', {\n        'topbar-expand': expand\n      });\n      return React.createElement(\"div\", {\n        className: classnames,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"topbar-dropmenu\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, React.createElement(_Row, {\n        gutter: 22,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, React.createElement(_Col, {\n        xs: 8,\n        md: 4,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, React.createElement(CSSAnimate, {\n        className: \"animated-short\",\n        type: expand ? 'fadeInDown' : 'fadeOutUp',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        className: \"metro-tile\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        type: \"message\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        className: \"metro-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, \"\\u4FE1\\u606F\")))), React.createElement(_Col, {\n        xs: 8,\n        md: 4,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, React.createElement(CSSAnimate, {\n        className: \"animated-short\",\n        type: expand ? 'fadeInDown' : 'fadeOutUp',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        className: \"metro-tile\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        type: \"user\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        className: \"metro-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, \"\\u7528\\u6237\")))), React.createElement(_Col, {\n        xs: 8,\n        md: 4,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, React.createElement(CSSAnimate, {\n        className: \"animated-short\",\n        type: expand ? 'fadeInDown' : 'fadeOutUp',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        className: \"metro-tile\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        type: \"headphones\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        className: \"metro-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, \"\\u652F\\u6301\")))), React.createElement(_Col, {\n        xs: 8,\n        md: 4,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, React.createElement(CSSAnimate, {\n        className: \"animated-short\",\n        type: expand ? 'fadeInDown' : 'fadeOutUp',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        className: \"metro-tile\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        type: \"equalizer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        className: \"metro-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, \"\\u8BBE\\u7F6E\")))), React.createElement(_Col, {\n        xs: 8,\n        md: 4,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, React.createElement(CSSAnimate, {\n        className: \"animated-short\",\n        type: expand ? 'fadeInDown' : 'fadeOutUp',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        className: \"metro-tile\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        type: \"play\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        className: \"metro-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, \"\\u89C6\\u9891\")))), React.createElement(_Col, {\n        xs: 8,\n        md: 4,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, React.createElement(CSSAnimate, {\n        className: \"animated-short\",\n        type: expand ? 'fadeInDown' : 'fadeOutUp',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        className: \"metro-tile\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        type: \"image\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        className: \"metro-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, \"\\u56FE\\u7247\")))))), React.createElement(\"header\", {\n        className: \"topbar-content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, currentRoute.length ? React.createElement(_Breadcrumb, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, React.createElement(_Breadcrumb.Item, {\n        className: \"first\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, currentRoute[currentRoute.length - 1].title), React.createElement(_Breadcrumb.Item, {\n        className: \"icon\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        type: \"home\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      })), React.createElement(_Breadcrumb.Item, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, \"\\u4E3B\\u9875\")), currentRoute.map(function (item, index) {\n        return React.createElement(_Breadcrumb.Item, {\n          key: index,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 136\n          },\n          __self: this\n        }, index === currentRoute.length - 1 ? item.title : React.createElement(Link, {\n          to: item.path,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 140\n          },\n          __self: this\n        }, item.title));\n      })) : null, React.createElement(\"a\", {\n        className: cx('topbar-right', {\n          collapse: collapsedRightSide\n        }),\n        onClick: toggleRightSide,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        type: \"into\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }))), React.createElement(Mask, {\n        visible: expand,\n        onClose: onCollapse,\n        getContainer: function getContainer(node) {\n          return node.parentNode;\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return TopBar;\n}(Component);\n\nexport default TopBar;","map":{"version":3,"sources":["/Users/evan/progressMan/src/components/TopBar/TopBar.js"],"names":["React","Component","Link","Icon","cx","CSSAnimate","Mask","TopBar","props","getRouteLevel","pathName","orderPaths","split","reduce","prev","next","path","join","push","map","item","window","dva_router_pathMap","filter","state","currentRoute","location","pathname","nextProps","setState","expand","toggleRightSide","collapsedRightSide","onCollapse","classnames","length","title","index","collapse","node","parentNode"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Breadcrumb, Row, Col } from 'antd';\nimport { Link } from 'dva/router';\nimport Icon from '../Icon';\nimport cx from 'classnames';\nimport CSSAnimate from '../CSSAnimate';\nimport Mask from '../Mask';\nimport './style/index.less';\n\nclass TopBar extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      currentRoute: this.getRouteLevel(props.location.pathname) || []\n    };\n  }\n\n  componentWillReceiveProps(nextProps) {\n    const currentRoute = this.getRouteLevel(nextProps.location.pathname);\n\n    this.setState({\n      currentRoute\n    });\n  }\n\n  getRouteLevel = pathName => {\n    const orderPaths = [];\n    pathName.split('/').reduce((prev, next) => {\n      const path = [prev, next].join('/');\n      orderPaths.push(path);\n      return path;\n    });\n\n    return orderPaths\n      .map(item => window.dva_router_pathMap[item])\n      .filter(item => !!item);\n  };\n\n  render() {\n    const {\n      expand,\n      toggleRightSide,\n      collapsedRightSide,\n      onCollapse\n    } = this.props;\n    const { currentRoute } = this.state;\n    const classnames = cx('topbar', {\n      'topbar-expand': expand\n    });\n\n    return (\n      <div className={classnames}>\n        <div className=\"topbar-dropmenu\">\n          <Row gutter={22}>\n            <Col xs={8} md={4}>\n              <CSSAnimate\n                className=\"animated-short\"\n                type={expand ? 'fadeInDown' : 'fadeOutUp'}\n              >\n                <a className=\"metro-tile\">\n                  <Icon type=\"message\" />\n                  <span className=\"metro-title\">信息</span>\n                </a>\n              </CSSAnimate>\n            </Col>\n            <Col xs={8} md={4}>\n              <CSSAnimate\n                className=\"animated-short\"\n                type={expand ? 'fadeInDown' : 'fadeOutUp'}\n              >\n                <a className=\"metro-tile\">\n                  <Icon type=\"user\" />\n                  <span className=\"metro-title\">用户</span>\n                </a>\n              </CSSAnimate>\n            </Col>\n            <Col xs={8} md={4}>\n              <CSSAnimate\n                className=\"animated-short\"\n                type={expand ? 'fadeInDown' : 'fadeOutUp'}\n              >\n                <a className=\"metro-tile\">\n                  <Icon type=\"headphones\" />\n                  <span className=\"metro-title\">支持</span>\n                </a>\n              </CSSAnimate>\n            </Col>\n            <Col xs={8} md={4}>\n              <CSSAnimate\n                className=\"animated-short\"\n                type={expand ? 'fadeInDown' : 'fadeOutUp'}\n              >\n                <a className=\"metro-tile\">\n                  <Icon type=\"equalizer\" />\n                  <span className=\"metro-title\">设置</span>\n                </a>\n              </CSSAnimate>\n            </Col>\n            <Col xs={8} md={4}>\n              <CSSAnimate\n                className=\"animated-short\"\n                type={expand ? 'fadeInDown' : 'fadeOutUp'}\n              >\n                <a className=\"metro-tile\">\n                  <Icon type=\"play\" />\n                  <span className=\"metro-title\">视频</span>\n                </a>\n              </CSSAnimate>\n            </Col>\n            <Col xs={8} md={4}>\n              <CSSAnimate\n                className=\"animated-short\"\n                type={expand ? 'fadeInDown' : 'fadeOutUp'}\n              >\n                <a className=\"metro-tile\">\n                  <Icon type=\"image\" />\n                  <span className=\"metro-title\">图片</span>\n                </a>\n              </CSSAnimate>\n            </Col>\n          </Row>\n        </div>\n        <header className=\"topbar-content\">\n          {currentRoute.length ? (\n            <Breadcrumb>\n              <Breadcrumb.Item className=\"first\">\n                {currentRoute[currentRoute.length - 1].title}\n              </Breadcrumb.Item>\n              <Breadcrumb.Item className=\"icon\">\n                <Icon type=\"home\" />\n              </Breadcrumb.Item>\n              <Breadcrumb.Item>\n                <Link to=\"/\">主页</Link>\n              </Breadcrumb.Item>\n              {currentRoute.map((item, index) => (\n                <Breadcrumb.Item key={index}>\n                  {index === currentRoute.length - 1 ? (\n                    item.title\n                  ) : (\n                    <Link to={item.path}>{item.title}</Link>\n                  )}\n                </Breadcrumb.Item>\n              ))}\n            </Breadcrumb>\n          ) : null}\n          <a\n            className={cx('topbar-right', { collapse: collapsedRightSide })}\n            onClick={toggleRightSide}\n          >\n            <Icon type=\"into\" />\n          </a>\n        </header>\n        <Mask\n          visible={expand}\n          onClose={onCollapse}\n          getContainer={node => node.parentNode}\n        />\n      </div>\n    );\n  }\n}\n\nexport default TopBar;\n"]},"metadata":{},"sourceType":"module"}